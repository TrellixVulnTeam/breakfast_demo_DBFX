{"ast":null,"code":"import _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\nimport _set from '@babel/runtime/helpers/esm/set';\nimport _get from '@babel/runtime/helpers/esm/get';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _wrapNativeSuper from '@babel/runtime/helpers/esm/wrapNativeSuper';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _typeof from '@babel/runtime/helpers/esm/typeof';\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n/**\n * Assert a condition.\n * @param condition The condition that it should satisfy.\n * @param message The error message.\n * @param args The arguments for replacing placeholders in the message.\n */\n\n\nfunction assertType(condition, message) {\n  if (!condition) {\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    throw new TypeError(format(message, args));\n  }\n}\n/**\n * Convert a text and arguments to one string.\n * @param message The formating text\n * @param args The arguments.\n */\n\n\nfunction format(message, args) {\n  var i = 0;\n  return message.replace(/%[os]/g, function () {\n    return anyToString(args[i++]);\n  });\n}\n/**\n * Convert a value to a string representation.\n * @param x The value to get the string representation.\n */\n\n\nfunction anyToString(x) {\n  if (_typeof(x) !== \"object\" || x === null) {\n    return String(x);\n  }\n\n  return Object.prototype.toString.call(x);\n}\n\nvar currentErrorHandler;\n/**\n * Set the error handler.\n * @param value The error handler to set.\n */\n\nfunction setErrorHandler(value) {\n  assertType(typeof value === \"function\" || value === undefined, \"The error handler must be a function or undefined, but got %o.\", value);\n  currentErrorHandler = value;\n}\n/**\n * Print a error message.\n * @param maybeError The error object.\n */\n\n\nfunction reportError(maybeError) {\n  try {\n    var error = maybeError instanceof Error ? maybeError : new Error(anyToString(maybeError)); // Call the user-defined error handler if exists.\n\n    if (currentErrorHandler) {\n      currentErrorHandler(error);\n      return;\n    } // Dispatch an `error` event if this is on a browser.\n\n\n    if (typeof dispatchEvent === \"function\" && typeof ErrorEvent === \"function\") {\n      dispatchEvent(new ErrorEvent(\"error\", {\n        error: error,\n        message: error.message\n      }));\n    } // Emit an `uncaughtException` event if this is on Node.js.\n    //istanbul ignore else\n    else if (typeof process !== \"undefined\" && typeof process.emit === \"function\") {\n      process.emit(\"uncaughtException\", error);\n      return;\n    } // Otherwise, print the error.\n\n\n    console.error(error);\n  } catch (_a) {// ignore.\n  }\n}\n/**\n * The global object.\n */\n//istanbul ignore next\n\n\nvar Global = typeof window !== \"undefined\" ? window : typeof self !== \"undefined\" ? self : typeof global !== \"undefined\" ? global : typeof globalThis !== \"undefined\" ? globalThis : undefined;\nvar currentWarnHandler;\n/**\n * Set the warning handler.\n * @param value The warning handler to set.\n */\n\nfunction setWarningHandler(value) {\n  assertType(typeof value === \"function\" || value === undefined, \"The warning handler must be a function or undefined, but got %o.\", value);\n  currentWarnHandler = value;\n}\n/**\n * The warning information.\n */\n\n\nvar Warning = /*#__PURE__*/function () {\n  function Warning(code, message) {\n    _classCallCheck(this, Warning);\n\n    this.code = code;\n    this.message = message;\n  }\n  /**\n   * Report this warning.\n   * @param args The arguments of the warning.\n   */\n\n\n  _createClass(Warning, [{\n    key: \"warn\",\n    value: function warn() {\n      var _a;\n\n      try {\n        var _console;\n\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        } // Call the user-defined warning handler if exists.\n\n\n        if (currentWarnHandler) {\n          currentWarnHandler(_objectSpread(_objectSpread({}, this), {}, {\n            args: args\n          }));\n          return;\n        } // Otherwise, print the warning.\n\n\n        var stack = ((_a = new Error().stack) !== null && _a !== void 0 ? _a : \"\").replace(/^(?:(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+?\\n){2}/g, \"\\n\");\n\n        (_console = console).warn.apply(_console, [this.message].concat(args, [stack]));\n      } catch (_b) {// Ignore.\n      }\n    }\n  }]);\n\n  return Warning;\n}();\n\nvar InitEventWasCalledWhileDispatching = new Warning(\"W01\", \"Unable to initialize event under dispatching.\");\nvar FalsyWasAssignedToCancelBubble = new Warning(\"W02\", \"Assigning any falsy value to 'cancelBubble' property has no effect.\");\nvar TruthyWasAssignedToReturnValue = new Warning(\"W03\", \"Assigning any truthy value to 'returnValue' property has no effect.\");\nvar NonCancelableEventWasCanceled = new Warning(\"W04\", \"Unable to preventDefault on non-cancelable events.\");\nvar CanceledInPassiveListener = new Warning(\"W05\", \"Unable to preventDefault inside passive event listener invocation.\");\nvar EventListenerWasDuplicated = new Warning(\"W06\", \"An event listener wasn't added because it has been added already: %o, %o\");\nvar OptionWasIgnored = new Warning(\"W07\", \"The %o option value was abandoned because the event listener wasn't added as duplicated.\");\nvar InvalidEventListener = new Warning(\"W08\", \"The 'callback' argument must be a function or an object that has 'handleEvent' method: %o\");\nvar InvalidAttributeHandler = new Warning(\"W09\", \"Event attribute handler must be a function: %o\");\n/*eslint-disable class-methods-use-this */\n\n/**\n * An implementation of `Event` interface, that wraps a given event object.\n * `EventTarget` shim can control the internal state of this `Event` objects.\n * @see https://dom.spec.whatwg.org/#event\n */\n\nvar Event = /*#__PURE__*/function () {\n  _createClass(Event, null, [{\n    key: \"NONE\",\n\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-none\n     */\n    get: function get() {\n      return NONE;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-capturing_phase\n     */\n\n  }, {\n    key: \"CAPTURING_PHASE\",\n    get: function get() {\n      return CAPTURING_PHASE;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-at_target\n     */\n\n  }, {\n    key: \"AT_TARGET\",\n    get: function get() {\n      return AT_TARGET;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-bubbling_phase\n     */\n\n  }, {\n    key: \"BUBBLING_PHASE\",\n    get: function get() {\n      return BUBBLING_PHASE;\n    }\n    /**\n     * Initialize this event instance.\n     * @param type The type of this event.\n     * @param eventInitDict Options to initialize.\n     * @see https://dom.spec.whatwg.org/#dom-event-event\n     */\n\n  }]);\n\n  function Event(type, eventInitDict) {\n    _classCallCheck(this, Event);\n\n    Object.defineProperty(this, \"isTrusted\", {\n      value: false,\n      enumerable: true\n    });\n    var opts = eventInitDict !== null && eventInitDict !== void 0 ? eventInitDict : {};\n    internalDataMap.set(this, {\n      type: String(type),\n      bubbles: Boolean(opts.bubbles),\n      cancelable: Boolean(opts.cancelable),\n      composed: Boolean(opts.composed),\n      target: null,\n      currentTarget: null,\n      stopPropagationFlag: false,\n      stopImmediatePropagationFlag: false,\n      canceledFlag: false,\n      inPassiveListenerFlag: false,\n      dispatchFlag: false,\n      timeStamp: Date.now()\n    });\n  }\n  /**\n   * The type of this event.\n   * @see https://dom.spec.whatwg.org/#dom-event-type\n   */\n\n\n  _createClass(Event, [{\n    key: \"composedPath\",\n\n    /**\n     * The event target of the current dispatching.\n     * This doesn't support node tree.\n     * @see https://dom.spec.whatwg.org/#dom-event-composedpath\n     */\n    value: function composedPath() {\n      var currentTarget = $(this).currentTarget;\n\n      if (currentTarget) {\n        return [currentTarget];\n      }\n\n      return [];\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-none\n     */\n\n  }, {\n    key: \"stopPropagation\",\n\n    /**\n     * Stop event bubbling.\n     * Because this shim doesn't support node tree, this merely changes the `cancelBubble` property value.\n     * @see https://dom.spec.whatwg.org/#dom-event-stoppropagation\n     */\n    value: function stopPropagation() {\n      $(this).stopPropagationFlag = true;\n    }\n    /**\n     * `true` if event bubbling was stopped.\n     * @deprecated\n     * @see https://dom.spec.whatwg.org/#dom-event-cancelbubble\n     */\n\n  }, {\n    key: \"stopImmediatePropagation\",\n\n    /**\n     * Stop event bubbling and subsequent event listener callings.\n     * @see https://dom.spec.whatwg.org/#dom-event-stopimmediatepropagation\n     */\n    value: function stopImmediatePropagation() {\n      var data = $(this);\n      data.stopPropagationFlag = data.stopImmediatePropagationFlag = true;\n    }\n    /**\n     * `true` if this event will bubble.\n     * @see https://dom.spec.whatwg.org/#dom-event-bubbles\n     */\n\n  }, {\n    key: \"preventDefault\",\n\n    /**\n     * Cancel the default behavior.\n     * @see https://dom.spec.whatwg.org/#dom-event-preventdefault\n     */\n    value: function preventDefault() {\n      setCancelFlag($(this));\n    }\n    /**\n     * `true` if the default behavior was canceled.\n     * @see https://dom.spec.whatwg.org/#dom-event-defaultprevented\n     */\n\n  }, {\n    key: \"initEvent\",\n\n    /**\n     * @deprecated Don't use this method. The constructor did initialization.\n     */\n    value: function initEvent(type) {\n      var bubbles = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var cancelable = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var data = $(this);\n\n      if (data.dispatchFlag) {\n        InitEventWasCalledWhileDispatching.warn();\n        return;\n      }\n\n      internalDataMap.set(this, _objectSpread(_objectSpread({}, data), {}, {\n        type: String(type),\n        bubbles: Boolean(bubbles),\n        cancelable: Boolean(cancelable),\n        target: null,\n        currentTarget: null,\n        stopPropagationFlag: false,\n        stopImmediatePropagationFlag: false,\n        canceledFlag: false\n      }));\n    }\n  }, {\n    key: \"type\",\n    get: function get() {\n      return $(this).type;\n    }\n    /**\n     * The event target of the current dispatching.\n     * @see https://dom.spec.whatwg.org/#dom-event-target\n     */\n\n  }, {\n    key: \"target\",\n    get: function get() {\n      return $(this).target;\n    }\n    /**\n     * The event target of the current dispatching.\n     * @deprecated Use the `target` property instead.\n     * @see https://dom.spec.whatwg.org/#dom-event-srcelement\n     */\n\n  }, {\n    key: \"srcElement\",\n    get: function get() {\n      return $(this).target;\n    }\n    /**\n     * The event target of the current dispatching.\n     * @see https://dom.spec.whatwg.org/#dom-event-currenttarget\n     */\n\n  }, {\n    key: \"currentTarget\",\n    get: function get() {\n      return $(this).currentTarget;\n    }\n  }, {\n    key: \"NONE\",\n    get: function get() {\n      return NONE;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-capturing_phase\n     */\n\n  }, {\n    key: \"CAPTURING_PHASE\",\n    get: function get() {\n      return CAPTURING_PHASE;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-at_target\n     */\n\n  }, {\n    key: \"AT_TARGET\",\n    get: function get() {\n      return AT_TARGET;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-bubbling_phase\n     */\n\n  }, {\n    key: \"BUBBLING_PHASE\",\n    get: function get() {\n      return BUBBLING_PHASE;\n    }\n    /**\n     * The current event phase.\n     * @see https://dom.spec.whatwg.org/#dom-event-eventphase\n     */\n\n  }, {\n    key: \"eventPhase\",\n    get: function get() {\n      return $(this).dispatchFlag ? 2 : 0;\n    }\n  }, {\n    key: \"cancelBubble\",\n    get: function get() {\n      return $(this).stopPropagationFlag;\n    }\n    /**\n     * Stop event bubbling if `true` is set.\n     * @deprecated Use the `stopPropagation()` method instead.\n     * @see https://dom.spec.whatwg.org/#dom-event-cancelbubble\n     */\n    ,\n    set: function set(value) {\n      if (value) {\n        $(this).stopPropagationFlag = true;\n      } else {\n        FalsyWasAssignedToCancelBubble.warn();\n      }\n    }\n  }, {\n    key: \"bubbles\",\n    get: function get() {\n      return $(this).bubbles;\n    }\n    /**\n     * `true` if this event can be canceled by the `preventDefault()` method.\n     * @see https://dom.spec.whatwg.org/#dom-event-cancelable\n     */\n\n  }, {\n    key: \"cancelable\",\n    get: function get() {\n      return $(this).cancelable;\n    }\n    /**\n     * `true` if the default behavior will act.\n     * @deprecated Use the `defaultPrevented` proeprty instead.\n     * @see https://dom.spec.whatwg.org/#dom-event-returnvalue\n     */\n\n  }, {\n    key: \"returnValue\",\n    get: function get() {\n      return !$(this).canceledFlag;\n    }\n    /**\n     * Cancel the default behavior if `false` is set.\n     * @deprecated Use the `preventDefault()` method instead.\n     * @see https://dom.spec.whatwg.org/#dom-event-returnvalue\n     */\n    ,\n    set: function set(value) {\n      if (!value) {\n        setCancelFlag($(this));\n      } else {\n        TruthyWasAssignedToReturnValue.warn();\n      }\n    }\n  }, {\n    key: \"defaultPrevented\",\n    get: function get() {\n      return $(this).canceledFlag;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-composed\n     */\n\n  }, {\n    key: \"composed\",\n    get: function get() {\n      return $(this).composed;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-istrusted\n     */\n    //istanbul ignore next\n\n  }, {\n    key: \"isTrusted\",\n    get: function get() {\n      return false;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-timestamp\n     */\n\n  }, {\n    key: \"timeStamp\",\n    get: function get() {\n      return $(this).timeStamp;\n    }\n  }]);\n\n  return Event;\n}(); //------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\n\n\nvar NONE = 0;\nvar CAPTURING_PHASE = 1;\nvar AT_TARGET = 2;\nvar BUBBLING_PHASE = 3;\n/**\n * Private data for event wrappers.\n */\n\nvar internalDataMap = new WeakMap();\n/**\n * Get private data.\n * @param event The event object to get private data.\n * @param name The variable name to report.\n * @returns The private data of the event.\n */\n\nfunction $(event) {\n  var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"this\";\n  var retv = internalDataMap.get(event);\n  assertType(retv != null, \"'%s' must be an object that Event constructor created, but got another one: %o\", name, event);\n  return retv;\n}\n/**\n * https://dom.spec.whatwg.org/#set-the-canceled-flag\n * @param data private data.\n */\n\n\nfunction setCancelFlag(data) {\n  if (data.inPassiveListenerFlag) {\n    CanceledInPassiveListener.warn();\n    return;\n  }\n\n  if (!data.cancelable) {\n    NonCancelableEventWasCanceled.warn();\n    return;\n  }\n\n  data.canceledFlag = true;\n} // Set enumerable\n\n\nObject.defineProperty(Event, \"NONE\", {\n  enumerable: true\n});\nObject.defineProperty(Event, \"CAPTURING_PHASE\", {\n  enumerable: true\n});\nObject.defineProperty(Event, \"AT_TARGET\", {\n  enumerable: true\n});\nObject.defineProperty(Event, \"BUBBLING_PHASE\", {\n  enumerable: true\n});\nvar keys = Object.getOwnPropertyNames(Event.prototype);\n\nfor (var i = 0; i < keys.length; ++i) {\n  if (keys[i] === \"constructor\") {\n    continue;\n  }\n\n  Object.defineProperty(Event.prototype, keys[i], {\n    enumerable: true\n  });\n} // Ensure `event instanceof window.Event` is `true`.\n\n\nif (typeof Global !== \"undefined\" && typeof Global.Event !== \"undefined\") {\n  Object.setPrototypeOf(Event.prototype, Global.Event.prototype);\n}\n/**\n * Create a new InvalidStateError instance.\n * @param message The error message.\n */\n\n\nfunction createInvalidStateError(message) {\n  if (Global.DOMException) {\n    return new Global.DOMException(message, \"InvalidStateError\");\n  }\n\n  if (DOMException == null) {\n    DOMException = /*#__PURE__*/function (_Error) {\n      _inherits(DOMException, _Error);\n\n      var _super = _createSuper(DOMException);\n\n      function DOMException(msg) {\n        var _this;\n\n        _classCallCheck(this, DOMException);\n\n        _this = _super.call(this, msg);\n\n        if (Error.captureStackTrace) {\n          Error.captureStackTrace(_assertThisInitialized(_this), DOMException);\n        }\n\n        return _this;\n      } // eslint-disable-next-line class-methods-use-this\n\n\n      _createClass(DOMException, [{\n        key: \"code\",\n        get: function get() {\n          return 11;\n        } // eslint-disable-next-line class-methods-use-this\n\n      }, {\n        key: \"name\",\n        get: function get() {\n          return \"InvalidStateError\";\n        }\n      }]);\n\n      return DOMException;\n    }( /*#__PURE__*/_wrapNativeSuper(Error));\n\n    Object.defineProperties(DOMException.prototype, {\n      code: {\n        enumerable: true\n      },\n      name: {\n        enumerable: true\n      }\n    });\n    defineErrorCodeProperties(DOMException);\n    defineErrorCodeProperties(DOMException.prototype);\n  }\n\n  return new DOMException(message);\n} //------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\n\n\nvar DOMException;\nvar ErrorCodeMap = {\n  INDEX_SIZE_ERR: 1,\n  DOMSTRING_SIZE_ERR: 2,\n  HIERARCHY_REQUEST_ERR: 3,\n  WRONG_DOCUMENT_ERR: 4,\n  INVALID_CHARACTER_ERR: 5,\n  NO_DATA_ALLOWED_ERR: 6,\n  NO_MODIFICATION_ALLOWED_ERR: 7,\n  NOT_FOUND_ERR: 8,\n  NOT_SUPPORTED_ERR: 9,\n  INUSE_ATTRIBUTE_ERR: 10,\n  INVALID_STATE_ERR: 11,\n  SYNTAX_ERR: 12,\n  INVALID_MODIFICATION_ERR: 13,\n  NAMESPACE_ERR: 14,\n  INVALID_ACCESS_ERR: 15,\n  VALIDATION_ERR: 16,\n  TYPE_MISMATCH_ERR: 17,\n  SECURITY_ERR: 18,\n  NETWORK_ERR: 19,\n  ABORT_ERR: 20,\n  URL_MISMATCH_ERR: 21,\n  QUOTA_EXCEEDED_ERR: 22,\n  TIMEOUT_ERR: 23,\n  INVALID_NODE_TYPE_ERR: 24,\n  DATA_CLONE_ERR: 25\n};\n\nfunction defineErrorCodeProperties(obj) {\n  var keys = Object.keys(ErrorCodeMap);\n\n  var _loop = function _loop(_i) {\n    var key = keys[_i];\n    var value = ErrorCodeMap[key];\n    Object.defineProperty(obj, key, {\n      get: function get() {\n        return value;\n      },\n      configurable: true,\n      enumerable: true\n    });\n  };\n\n  for (var _i = 0; _i < keys.length; ++_i) {\n    _loop(_i);\n  }\n}\n/**\n * An implementation of `Event` interface, that wraps a given event object.\n * This class controls the internal state of `Event`.\n * @see https://dom.spec.whatwg.org/#interface-event\n */\n\n\nvar EventWrapper = /*#__PURE__*/function (_Event) {\n  _inherits(EventWrapper, _Event);\n\n  var _super2 = _createSuper(EventWrapper);\n\n  _createClass(EventWrapper, null, [{\n    key: \"wrap\",\n\n    /**\n     * Wrap a given event object to control states.\n     * @param event The event-like object to wrap.\n     */\n    value: function wrap(event) {\n      return new (getWrapperClassOf(event))(event);\n    }\n  }]);\n\n  function EventWrapper(event) {\n    var _thisSuper, _thisSuper2, _this2;\n\n    _classCallCheck(this, EventWrapper);\n\n    _this2 = _super2.call(this, event.type, {\n      bubbles: event.bubbles,\n      cancelable: event.cancelable,\n      composed: event.composed\n    });\n\n    if (event.cancelBubble) {\n      _get((_thisSuper = _assertThisInitialized(_this2), _getPrototypeOf(EventWrapper.prototype)), \"stopPropagation\", _thisSuper).call(_thisSuper);\n    }\n\n    if (event.defaultPrevented) {\n      _get((_thisSuper2 = _assertThisInitialized(_this2), _getPrototypeOf(EventWrapper.prototype)), \"preventDefault\", _thisSuper2).call(_thisSuper2);\n    }\n\n    internalDataMap$1.set(_assertThisInitialized(_this2), {\n      original: event\n    }); // Define accessors\n\n    var keys = Object.keys(event);\n\n    for (var _i2 = 0; _i2 < keys.length; ++_i2) {\n      var key = keys[_i2];\n\n      if (!(key in _assertThisInitialized(_this2))) {\n        Object.defineProperty(_assertThisInitialized(_this2), key, defineRedirectDescriptor(event, key));\n      }\n    }\n\n    return _this2;\n  }\n\n  _createClass(EventWrapper, [{\n    key: \"stopPropagation\",\n    value: function stopPropagation() {\n      _get(_getPrototypeOf(EventWrapper.prototype), \"stopPropagation\", this).call(this);\n\n      var _$$ = $$1(this),\n          original = _$$.original;\n\n      if (\"stopPropagation\" in original) {\n        original.stopPropagation();\n      }\n    }\n  }, {\n    key: \"stopImmediatePropagation\",\n    value: function stopImmediatePropagation() {\n      _get(_getPrototypeOf(EventWrapper.prototype), \"stopImmediatePropagation\", this).call(this);\n\n      var _$$2 = $$1(this),\n          original = _$$2.original;\n\n      if (\"stopImmediatePropagation\" in original) {\n        original.stopImmediatePropagation();\n      }\n    }\n  }, {\n    key: \"preventDefault\",\n    value: function preventDefault() {\n      _get(_getPrototypeOf(EventWrapper.prototype), \"preventDefault\", this).call(this);\n\n      var _$$3 = $$1(this),\n          original = _$$3.original;\n\n      if (\"preventDefault\" in original) {\n        original.preventDefault();\n      }\n    }\n  }, {\n    key: \"cancelBubble\",\n    get: function get() {\n      return _get(_getPrototypeOf(EventWrapper.prototype), \"cancelBubble\", this);\n    },\n    set: function set(value) {\n      _set(_getPrototypeOf(EventWrapper.prototype), \"cancelBubble\", value, this, true);\n\n      var _$$4 = $$1(this),\n          original = _$$4.original;\n\n      if (\"cancelBubble\" in original) {\n        original.cancelBubble = value;\n      }\n    }\n  }, {\n    key: \"returnValue\",\n    get: function get() {\n      return _get(_getPrototypeOf(EventWrapper.prototype), \"returnValue\", this);\n    },\n    set: function set(value) {\n      _set(_getPrototypeOf(EventWrapper.prototype), \"returnValue\", value, this, true);\n\n      var _$$5 = $$1(this),\n          original = _$$5.original;\n\n      if (\"returnValue\" in original) {\n        original.returnValue = value;\n      }\n    }\n  }, {\n    key: \"timeStamp\",\n    get: function get() {\n      var _$$6 = $$1(this),\n          original = _$$6.original;\n\n      if (\"timeStamp\" in original) {\n        return original.timeStamp;\n      }\n\n      return _get(_getPrototypeOf(EventWrapper.prototype), \"timeStamp\", this);\n    }\n  }]);\n\n  return EventWrapper;\n}(Event);\n/**\n * Private data for event wrappers.\n */\n\n\nvar internalDataMap$1 = new WeakMap();\n/**\n * Get private data.\n * @param event The event object to get private data.\n * @returns The private data of the event.\n */\n\nfunction $$1(event) {\n  var retv = internalDataMap$1.get(event);\n  assertType(retv != null, \"'this' is expected an Event object, but got\", event);\n  return retv;\n}\n/**\n * Cache for wrapper classes.\n * @type {WeakMap<Object, Function>}\n * @private\n */\n\n\nvar wrapperClassCache = new WeakMap(); // Make association for wrappers.\n\nwrapperClassCache.set(Object.prototype, EventWrapper);\n\nif (typeof Global !== \"undefined\" && typeof Global.Event !== \"undefined\") {\n  wrapperClassCache.set(Global.Event.prototype, EventWrapper);\n}\n/**\n * Get the wrapper class of a given prototype.\n * @param originalEvent The event object to wrap.\n */\n\n\nfunction getWrapperClassOf(originalEvent) {\n  var prototype = Object.getPrototypeOf(originalEvent);\n\n  if (prototype == null) {\n    return EventWrapper;\n  }\n\n  var wrapper = wrapperClassCache.get(prototype);\n\n  if (wrapper == null) {\n    wrapper = defineWrapper(getWrapperClassOf(prototype), prototype);\n    wrapperClassCache.set(prototype, wrapper);\n  }\n\n  return wrapper;\n}\n/**\n * Define new wrapper class.\n * @param BaseEventWrapper The base wrapper class.\n * @param originalPrototype The prototype of the original event.\n */\n\n\nfunction defineWrapper(BaseEventWrapper, originalPrototype) {\n  var CustomEventWrapper = /*#__PURE__*/function (_BaseEventWrapper) {\n    _inherits(CustomEventWrapper, _BaseEventWrapper);\n\n    var _super3 = _createSuper(CustomEventWrapper);\n\n    function CustomEventWrapper() {\n      _classCallCheck(this, CustomEventWrapper);\n\n      return _super3.apply(this, arguments);\n    }\n\n    return CustomEventWrapper;\n  }(BaseEventWrapper);\n\n  var keys = Object.keys(originalPrototype);\n\n  for (var _i3 = 0; _i3 < keys.length; ++_i3) {\n    Object.defineProperty(CustomEventWrapper.prototype, keys[_i3], defineRedirectDescriptor(originalPrototype, keys[_i3]));\n  }\n\n  return CustomEventWrapper;\n}\n/**\n * Get the property descriptor to redirect a given property.\n */\n\n\nfunction defineRedirectDescriptor(obj, key) {\n  var d = Object.getOwnPropertyDescriptor(obj, key);\n  return {\n    get: function get() {\n      var original = $$1(this).original;\n      var value = original[key];\n\n      if (typeof value === \"function\") {\n        return value.bind(original);\n      }\n\n      return value;\n    },\n    set: function set(value) {\n      var original = $$1(this).original;\n      original[key] = value;\n    },\n    configurable: d.configurable,\n    enumerable: d.enumerable\n  };\n}\n/**\n * Create a new listener.\n * @param callback The callback function.\n * @param capture The capture flag.\n * @param passive The passive flag.\n * @param once The once flag.\n * @param signal The abort signal.\n * @param signalListener The abort event listener for the abort signal.\n */\n\n\nfunction createListener(callback, capture, passive, once, signal, signalListener) {\n  return {\n    callback: callback,\n    flags: (capture ? 1\n    /* Capture */\n    : 0) | (passive ? 2\n    /* Passive */\n    : 0) | (once ? 4\n    /* Once */\n    : 0),\n    signal: signal,\n    signalListener: signalListener\n  };\n}\n/**\n * Set the `removed` flag to the given listener.\n * @param listener The listener to check.\n */\n\n\nfunction setRemoved(listener) {\n  listener.flags |= 8\n  /* Removed */\n  ;\n}\n/**\n * Check if the given listener has the `capture` flag or not.\n * @param listener The listener to check.\n */\n\n\nfunction isCapture(listener) {\n  return (listener.flags & 1\n  /* Capture */\n  ) === 1\n  /* Capture */\n  ;\n}\n/**\n * Check if the given listener has the `passive` flag or not.\n * @param listener The listener to check.\n */\n\n\nfunction isPassive(listener) {\n  return (listener.flags & 2\n  /* Passive */\n  ) === 2\n  /* Passive */\n  ;\n}\n/**\n * Check if the given listener has the `once` flag or not.\n * @param listener The listener to check.\n */\n\n\nfunction isOnce(listener) {\n  return (listener.flags & 4\n  /* Once */\n  ) === 4\n  /* Once */\n  ;\n}\n/**\n * Check if the given listener has the `removed` flag or not.\n * @param listener The listener to check.\n */\n\n\nfunction isRemoved(listener) {\n  return (listener.flags & 8\n  /* Removed */\n  ) === 8\n  /* Removed */\n  ;\n}\n/**\n * Call an event listener.\n * @param listener The listener to call.\n * @param target The event target object for `thisArg`.\n * @param event The event object for the first argument.\n * @param attribute `true` if this callback is an event attribute handler.\n */\n\n\nfunction invokeCallback(_ref, target, event) {\n  var callback = _ref.callback;\n\n  try {\n    if (typeof callback === \"function\") {\n      callback.call(target, event);\n    } else if (typeof callback.handleEvent === \"function\") {\n      callback.handleEvent(event);\n    }\n  } catch (thrownError) {\n    reportError(thrownError);\n  }\n}\n/**\n * Find the index of given listener.\n * This returns `-1` if not found.\n * @param list The listener list.\n * @param callback The callback function to find.\n * @param capture The capture flag to find.\n */\n\n\nfunction findIndexOfListener(_ref2, callback, capture) {\n  var listeners = _ref2.listeners;\n\n  for (var _i4 = 0; _i4 < listeners.length; ++_i4) {\n    if (listeners[_i4].callback === callback && isCapture(listeners[_i4]) === capture) {\n      return _i4;\n    }\n  }\n\n  return -1;\n}\n/**\n * Add the given listener.\n * Does copy-on-write if needed.\n * @param list The listener list.\n * @param callback The callback function.\n * @param capture The capture flag.\n * @param passive The passive flag.\n * @param once The once flag.\n * @param signal The abort signal.\n */\n\n\nfunction addListener(list, callback, capture, passive, once, signal) {\n  var signalListener;\n\n  if (signal) {\n    signalListener = removeListener.bind(null, list, callback, capture);\n    signal.addEventListener(\"abort\", signalListener);\n  }\n\n  var listener = createListener(callback, capture, passive, once, signal, signalListener);\n\n  if (list.cow) {\n    list.cow = false;\n    list.listeners = [].concat(_toConsumableArray(list.listeners), [listener]);\n  } else {\n    list.listeners.push(listener);\n  }\n\n  return listener;\n}\n/**\n * Remove a listener.\n * @param list The listener list.\n * @param callback The callback function to find.\n * @param capture The capture flag to find.\n * @returns `true` if it mutated the list directly.\n */\n\n\nfunction removeListener(list, callback, capture) {\n  var index = findIndexOfListener(list, callback, capture);\n\n  if (index !== -1) {\n    return removeListenerAt(list, index);\n  }\n\n  return false;\n}\n/**\n * Remove a listener.\n * @param list The listener list.\n * @param index The index of the target listener.\n * @param disableCow Disable copy-on-write if true.\n * @returns `true` if it mutated the `listeners` array directly.\n */\n\n\nfunction removeListenerAt(list, index) {\n  var disableCow = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var listener = list.listeners[index]; // Set the removed flag.\n\n  setRemoved(listener); // Dispose the abort signal listener if exists.\n\n  if (listener.signal) {\n    listener.signal.removeEventListener(\"abort\", listener.signalListener);\n  } // Remove it from the array.\n\n\n  if (list.cow && !disableCow) {\n    list.cow = false;\n    list.listeners = list.listeners.filter(function (_, i) {\n      return i !== index;\n    });\n    return false;\n  }\n\n  list.listeners.splice(index, 1);\n  return true;\n}\n/**\n * Create a new `ListenerListMap` object.\n */\n\n\nfunction createListenerListMap() {\n  return Object.create(null);\n}\n/**\n * Get the listener list of the given type.\n * If the listener list has not been initialized, initialize and return it.\n * @param listenerMap The listener list map.\n * @param type The event type to get.\n */\n\n\nfunction ensureListenerList(listenerMap, type) {\n  var _a;\n\n  return (_a = listenerMap[type]) !== null && _a !== void 0 ? _a : listenerMap[type] = {\n    attrCallback: undefined,\n    attrListener: undefined,\n    cow: false,\n    listeners: []\n  };\n}\n/**\n * An implementation of the `EventTarget` interface.\n * @see https://dom.spec.whatwg.org/#eventtarget\n */\n\n\nvar EventTarget = /*#__PURE__*/function () {\n  /**\n   * Initialize this instance.\n   */\n  function EventTarget() {\n    _classCallCheck(this, EventTarget);\n\n    internalDataMap$2.set(this, createListenerListMap());\n  } // Implementation\n\n\n  _createClass(EventTarget, [{\n    key: \"addEventListener\",\n    value: function addEventListener(type0, callback0, options0) {\n      var listenerMap = $$2(this);\n\n      var _normalizeAddOptions = normalizeAddOptions(type0, callback0, options0),\n          callback = _normalizeAddOptions.callback,\n          capture = _normalizeAddOptions.capture,\n          once = _normalizeAddOptions.once,\n          passive = _normalizeAddOptions.passive,\n          signal = _normalizeAddOptions.signal,\n          type = _normalizeAddOptions.type;\n\n      if (callback == null || (signal === null || signal === void 0 ? void 0 : signal.aborted)) {\n        return;\n      }\n\n      var list = ensureListenerList(listenerMap, type); // Find existing listener.\n\n      var i = findIndexOfListener(list, callback, capture);\n\n      if (i !== -1) {\n        warnDuplicate(list.listeners[i], passive, once, signal);\n        return;\n      } // Add the new listener.\n\n\n      addListener(list, callback, capture, passive, once, signal);\n    } // Implementation\n\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(type0, callback0, options0) {\n      var listenerMap = $$2(this);\n\n      var _normalizeOptions = normalizeOptions(type0, callback0, options0),\n          callback = _normalizeOptions.callback,\n          capture = _normalizeOptions.capture,\n          type = _normalizeOptions.type;\n\n      var list = listenerMap[type];\n\n      if (callback != null && list) {\n        removeListener(list, callback, capture);\n      }\n    } // Implementation\n\n  }, {\n    key: \"dispatchEvent\",\n    value: function dispatchEvent(e) {\n      var list = $$2(this)[String(e.type)];\n\n      if (list == null) {\n        return true;\n      }\n\n      var event = e instanceof Event ? e : EventWrapper.wrap(e);\n      var eventData = $(event, \"event\");\n\n      if (eventData.dispatchFlag) {\n        throw createInvalidStateError(\"This event has been in dispatching.\");\n      }\n\n      eventData.dispatchFlag = true;\n      eventData.target = eventData.currentTarget = this;\n\n      if (!eventData.stopPropagationFlag) {\n        var cow = list.cow,\n            listeners = list.listeners; // Set copy-on-write flag.\n\n        list.cow = true; // Call listeners.\n\n        for (var _i5 = 0; _i5 < listeners.length; ++_i5) {\n          var listener = listeners[_i5]; // Skip if removed.\n\n          if (isRemoved(listener)) {\n            continue;\n          } // Remove this listener if has the `once` flag.\n\n\n          if (isOnce(listener) && removeListenerAt(list, _i5, !cow)) {\n            // Because this listener was removed, the next index is the\n            // same as the current value.\n            _i5 -= 1;\n          } // Call this listener with the `passive` flag.\n\n\n          eventData.inPassiveListenerFlag = isPassive(listener);\n          invokeCallback(listener, this, event);\n          eventData.inPassiveListenerFlag = false; // Stop if the `event.stopImmediatePropagation()` method was called.\n\n          if (eventData.stopImmediatePropagationFlag) {\n            break;\n          }\n        } // Restore copy-on-write flag.\n\n\n        if (!cow) {\n          list.cow = false;\n        }\n      }\n\n      eventData.target = null;\n      eventData.currentTarget = null;\n      eventData.stopImmediatePropagationFlag = false;\n      eventData.stopPropagationFlag = false;\n      eventData.dispatchFlag = false;\n      return !eventData.canceledFlag;\n    }\n  }]);\n\n  return EventTarget;\n}();\n/**\n * Internal data.\n */\n\n\nvar internalDataMap$2 = new WeakMap();\n/**\n * Get private data.\n * @param target The event target object to get private data.\n * @param name The variable name to report.\n * @returns The private data of the event.\n */\n\nfunction $$2(target) {\n  var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"this\";\n  var retv = internalDataMap$2.get(target);\n  assertType(retv != null, \"'%s' must be an object that EventTarget constructor created, but got another one: %o\", name, target);\n  return retv;\n}\n/**\n * Normalize options.\n * @param options The options to normalize.\n */\n\n\nfunction normalizeAddOptions(type, callback, options) {\n  var _a;\n\n  assertCallback(callback);\n\n  if (_typeof(options) === \"object\" && options !== null) {\n    return {\n      type: String(type),\n      callback: callback !== null && callback !== void 0 ? callback : undefined,\n      capture: Boolean(options.capture),\n      passive: Boolean(options.passive),\n      once: Boolean(options.once),\n      signal: (_a = options.signal) !== null && _a !== void 0 ? _a : undefined\n    };\n  }\n\n  return {\n    type: String(type),\n    callback: callback !== null && callback !== void 0 ? callback : undefined,\n    capture: Boolean(options),\n    passive: false,\n    once: false,\n    signal: undefined\n  };\n}\n/**\n * Normalize options.\n * @param options The options to normalize.\n */\n\n\nfunction normalizeOptions(type, callback, options) {\n  assertCallback(callback);\n\n  if (_typeof(options) === \"object\" && options !== null) {\n    return {\n      type: String(type),\n      callback: callback !== null && callback !== void 0 ? callback : undefined,\n      capture: Boolean(options.capture)\n    };\n  }\n\n  return {\n    type: String(type),\n    callback: callback !== null && callback !== void 0 ? callback : undefined,\n    capture: Boolean(options)\n  };\n}\n/**\n * Assert the type of 'callback' argument.\n * @param callback The callback to check.\n */\n\n\nfunction assertCallback(callback) {\n  if (typeof callback === \"function\" || _typeof(callback) === \"object\" && callback !== null && typeof callback.handleEvent === \"function\") {\n    return;\n  }\n\n  if (callback == null || _typeof(callback) === \"object\") {\n    InvalidEventListener.warn(callback);\n    return;\n  }\n\n  throw new TypeError(format(InvalidEventListener.message, [callback]));\n}\n/**\n * Print warning for duplicated.\n * @param listener The current listener that is duplicated.\n * @param passive The passive flag of the new duplicated listener.\n * @param once The once flag of the new duplicated listener.\n * @param signal The signal object of the new duplicated listener.\n */\n\n\nfunction warnDuplicate(listener, passive, once, signal) {\n  EventListenerWasDuplicated.warn(isCapture(listener) ? \"capture\" : \"bubble\", listener.callback);\n\n  if (isPassive(listener) !== passive) {\n    OptionWasIgnored.warn(\"passive\");\n  }\n\n  if (isOnce(listener) !== once) {\n    OptionWasIgnored.warn(\"once\");\n  }\n\n  if (listener.signal !== signal) {\n    OptionWasIgnored.warn(\"signal\");\n  }\n} // Set enumerable\n\n\nvar keys$1 = Object.getOwnPropertyNames(EventTarget.prototype);\n\nfor (var _i6 = 0; _i6 < keys$1.length; ++_i6) {\n  if (keys$1[_i6] === \"constructor\") {\n    continue;\n  }\n\n  Object.defineProperty(EventTarget.prototype, keys$1[_i6], {\n    enumerable: true\n  });\n} // Ensure `eventTarget instanceof window.EventTarget` is `true`.\n\n\nif (typeof Global !== \"undefined\" && typeof Global.EventTarget !== \"undefined\") {\n  Object.setPrototypeOf(EventTarget.prototype, Global.EventTarget.prototype);\n}\n/**\n * Get the current value of a given event attribute.\n * @param target The `EventTarget` object to get.\n * @param type The event type.\n */\n\n\nfunction getEventAttributeValue(target, type) {\n  var _a, _b;\n\n  var listMap = $$2(target, \"target\");\n  return (_b = (_a = listMap[type]) === null || _a === void 0 ? void 0 : _a.attrCallback) !== null && _b !== void 0 ? _b : null;\n}\n/**\n * Set an event listener to a given event attribute.\n * @param target The `EventTarget` object to set.\n * @param type The event type.\n * @param callback The event listener.\n */\n\n\nfunction setEventAttributeValue(target, type, callback) {\n  if (callback != null && typeof callback !== \"function\") {\n    InvalidAttributeHandler.warn(callback);\n  }\n\n  if (typeof callback === \"function\" || _typeof(callback) === \"object\" && callback !== null) {\n    upsertEventAttributeListener(target, type, callback);\n  } else {\n    removeEventAttributeListener(target, type);\n  }\n} //------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\n\n/**\n * Update or insert the given event attribute handler.\n * @param target The `EventTarget` object to set.\n * @param type The event type.\n * @param callback The event listener.\n */\n\n\nfunction upsertEventAttributeListener(target, type, callback) {\n  var list = ensureListenerList($$2(target, \"target\"), String(type));\n  list.attrCallback = callback;\n\n  if (list.attrListener == null) {\n    list.attrListener = addListener(list, defineEventAttributeCallback(list), false, false, false, undefined);\n  }\n}\n/**\n * Remove the given event attribute handler.\n * @param target The `EventTarget` object to remove.\n * @param type The event type.\n * @param callback The event listener.\n */\n\n\nfunction removeEventAttributeListener(target, type) {\n  var listMap = $$2(target, \"target\");\n  var list = listMap[String(type)];\n\n  if (list && list.attrListener) {\n    removeListener(list, list.attrListener.callback, false);\n    list.attrCallback = list.attrListener = undefined;\n  }\n}\n/**\n * Define the callback function for the given listener list object.\n * It calls `attrCallback` property if the property value is a function.\n * @param list The `ListenerList` object.\n */\n\n\nfunction defineEventAttributeCallback(list) {\n  return function (event) {\n    var callback = list.attrCallback;\n\n    if (typeof callback === \"function\") {\n      callback.call(this, event);\n    }\n  };\n}\n/**\n * Define an `EventTarget` class that has event attibutes.\n * @param types The types to define event attributes.\n * @deprecated Use `getEventAttributeValue`/`setEventAttributeValue` pair on your derived class instead because of static analysis friendly.\n */\n\n\nfunction defineCustomEventTarget() {\n  var CustomEventTarget = /*#__PURE__*/function (_EventTarget) {\n    _inherits(CustomEventTarget, _EventTarget);\n\n    var _super4 = _createSuper(CustomEventTarget);\n\n    function CustomEventTarget() {\n      _classCallCheck(this, CustomEventTarget);\n\n      return _super4.apply(this, arguments);\n    }\n\n    return CustomEventTarget;\n  }(EventTarget);\n\n  for (var _i7 = 0; _i7 < arguments.length; ++_i7) {\n    defineEventAttribute(CustomEventTarget.prototype, _i7 < 0 || arguments.length <= _i7 ? undefined : arguments[_i7]);\n  }\n\n  return CustomEventTarget;\n}\n/**\n * Define an event attribute.\n * @param target The `EventTarget` object to define an event attribute.\n * @param type The event type to define.\n * @param _eventClass Unused, but to infer `Event` class type.\n * @deprecated Use `getEventAttributeValue`/`setEventAttributeValue` pair on your derived class instead because of static analysis friendly.\n */\n\n\nfunction defineEventAttribute(target, type, _eventClass) {\n  Object.defineProperty(target, \"on\".concat(type), {\n    get: function get() {\n      return getEventAttributeValue(this, type);\n    },\n    set: function set(value) {\n      setEventAttributeValue(this, type, value);\n    },\n    configurable: true,\n    enumerable: true\n  });\n}\n\nexport default EventTarget;\nexport { Event, EventTarget, defineCustomEventTarget, defineEventAttribute, getEventAttributeValue, setErrorHandler, setEventAttributeValue, setWarningHandler };","map":{"version":3,"sources":["/home/andrea/Desktop/breakfast/node_modules/event-target-shim/es5.mjs"],"names":["_toConsumableArray","_set","_get","_assertThisInitialized","_inherits","_possibleConstructorReturn","_getPrototypeOf","_wrapNativeSuper","_defineProperty","_classCallCheck","_createClass","_typeof","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Date","prototype","toString","call","e","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","target","i","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","assertType","condition","message","_len","args","Array","_key","TypeError","format","replace","anyToString","x","String","currentErrorHandler","setErrorHandler","value","undefined","reportError","maybeError","error","Error","dispatchEvent","ErrorEvent","process","emit","console","_a","Global","window","self","global","globalThis","currentWarnHandler","setWarningHandler","Warning","code","warn","_console","_len2","_key2","stack","concat","_b","InitEventWasCalledWhileDispatching","FalsyWasAssignedToCancelBubble","TruthyWasAssignedToReturnValue","NonCancelableEventWasCanceled","CanceledInPassiveListener","EventListenerWasDuplicated","OptionWasIgnored","InvalidEventListener","InvalidAttributeHandler","Event","get","NONE","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","type","eventInitDict","opts","internalDataMap","set","bubbles","Boolean","cancelable","composed","currentTarget","stopPropagationFlag","stopImmediatePropagationFlag","canceledFlag","inPassiveListenerFlag","dispatchFlag","timeStamp","now","composedPath","$","stopPropagation","stopImmediatePropagation","data","preventDefault","setCancelFlag","initEvent","WeakMap","event","name","retv","getOwnPropertyNames","setPrototypeOf","createInvalidStateError","DOMException","_Error","_super","msg","_this","captureStackTrace","defineErrorCodeProperties","ErrorCodeMap","INDEX_SIZE_ERR","DOMSTRING_SIZE_ERR","HIERARCHY_REQUEST_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR","NO_DATA_ALLOWED_ERR","NO_MODIFICATION_ALLOWED_ERR","NOT_FOUND_ERR","NOT_SUPPORTED_ERR","INUSE_ATTRIBUTE_ERR","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR","VALIDATION_ERR","TYPE_MISMATCH_ERR","SECURITY_ERR","NETWORK_ERR","ABORT_ERR","URL_MISMATCH_ERR","QUOTA_EXCEEDED_ERR","TIMEOUT_ERR","INVALID_NODE_TYPE_ERR","DATA_CLONE_ERR","obj","_loop","_i","configurable","EventWrapper","_Event","_super2","wrap","getWrapperClassOf","_thisSuper","_thisSuper2","_this2","cancelBubble","defaultPrevented","internalDataMap$1","original","_i2","defineRedirectDescriptor","_$$","$$1","_$$2","_$$3","_$$4","_$$5","returnValue","_$$6","wrapperClassCache","originalEvent","getPrototypeOf","wrapper","defineWrapper","BaseEventWrapper","originalPrototype","CustomEventWrapper","_BaseEventWrapper","_super3","_i3","d","bind","createListener","callback","capture","passive","once","signal","signalListener","flags","setRemoved","listener","isCapture","isPassive","isOnce","isRemoved","invokeCallback","_ref","handleEvent","thrownError","findIndexOfListener","_ref2","listeners","_i4","addListener","list","removeListener","addEventListener","cow","index","removeListenerAt","disableCow","removeEventListener","_","splice","createListenerListMap","create","ensureListenerList","listenerMap","attrCallback","attrListener","EventTarget","internalDataMap$2","type0","callback0","options0","$$2","_normalizeAddOptions","normalizeAddOptions","aborted","warnDuplicate","_normalizeOptions","normalizeOptions","eventData","_i5","options","assertCallback","keys$1","_i6","getEventAttributeValue","listMap","setEventAttributeValue","upsertEventAttributeListener","removeEventAttributeListener","defineEventAttributeCallback","defineCustomEventTarget","CustomEventTarget","_EventTarget","_super4","_i7","defineEventAttribute","_eventClass"],"mappings":"AAAA,OAAOA,kBAAP,MAA+B,8CAA/B;AACA,OAAOC,IAAP,MAAiB,gCAAjB;AACA,OAAOC,IAAP,MAAiB,gCAAjB;AACA,OAAOC,sBAAP,MAAmC,kDAAnC;AACA,OAAOC,SAAP,MAAsB,qCAAtB;AACA,OAAOC,0BAAP,MAAuC,sDAAvC;AACA,OAAOC,eAAP,MAA4B,2CAA5B;AACA,OAAOC,gBAAP,MAA6B,4CAA7B;AACA,OAAOC,eAAP,MAA4B,2CAA5B;AACA,OAAOC,eAAP,MAA4B,2CAA5B;AACA,OAAOC,YAAP,MAAyB,wCAAzB;AACA,OAAOC,OAAP,MAAoB,mCAApB;;AAEA,SAASC,YAAT,CAAsBC,OAAtB,EAA+B;AAAE,MAAIC,yBAAyB,GAAGC,yBAAyB,EAAzD;;AAA6D,SAAO,SAASC,oBAAT,GAAgC;AAAE,QAAIC,KAAK,GAAGX,eAAe,CAACO,OAAD,CAA3B;AAAA,QAAsCK,MAAtC;;AAA8C,QAAIJ,yBAAJ,EAA+B;AAAE,UAAIK,SAAS,GAAGb,eAAe,CAAC,IAAD,CAAf,CAAsBc,WAAtC;;AAAmDF,MAAAA,MAAM,GAAGG,OAAO,CAACC,SAAR,CAAkBL,KAAlB,EAAyBM,SAAzB,EAAoCJ,SAApC,CAAT;AAA0D,KAA9I,MAAoJ;AAAED,MAAAA,MAAM,GAAGD,KAAK,CAACO,KAAN,CAAY,IAAZ,EAAkBD,SAAlB,CAAT;AAAwC;;AAAC,WAAOlB,0BAA0B,CAAC,IAAD,EAAOa,MAAP,CAAjC;AAAkD,GAAxU;AAA2U;;AAEza,SAASH,yBAAT,GAAqC;AAAE,MAAI,OAAOM,OAAP,KAAmB,WAAnB,IAAkC,CAACA,OAAO,CAACC,SAA/C,EAA0D,OAAO,KAAP;AAAc,MAAID,OAAO,CAACC,SAAR,CAAkBG,IAAtB,EAA4B,OAAO,KAAP;AAAc,MAAI,OAAOC,KAAP,KAAiB,UAArB,EAAiC,OAAO,IAAP;;AAAa,MAAI;AAAEC,IAAAA,IAAI,CAACC,SAAL,CAAeC,QAAf,CAAwBC,IAAxB,CAA6BT,OAAO,CAACC,SAAR,CAAkBK,IAAlB,EAAwB,EAAxB,EAA4B,YAAY,CAAE,CAA1C,CAA7B;AAA2E,WAAO,IAAP;AAAc,GAA/F,CAAgG,OAAOI,CAAP,EAAU;AAAE,WAAO,KAAP;AAAe;AAAE;;AAEpU,SAASC,OAAT,CAAiBC,MAAjB,EAAyBC,cAAzB,EAAyC;AAAE,MAAIC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYF,MAAZ,CAAX;;AAAgC,MAAIG,MAAM,CAACC,qBAAX,EAAkC;AAAE,QAAIC,OAAO,GAAGF,MAAM,CAACC,qBAAP,CAA6BJ,MAA7B,CAAd;AAAoD,QAAIC,cAAJ,EAAoBI,OAAO,GAAGA,OAAO,CAACC,MAAR,CAAe,UAAUC,GAAV,EAAe;AAAE,aAAOJ,MAAM,CAACK,wBAAP,CAAgCR,MAAhC,EAAwCO,GAAxC,EAA6CE,UAApD;AAAiE,KAAjG,CAAV;AAA8GP,IAAAA,IAAI,CAACQ,IAAL,CAAUnB,KAAV,CAAgBW,IAAhB,EAAsBG,OAAtB;AAAiC;;AAAC,SAAOH,IAAP;AAAc;;AAErV,SAASS,aAAT,CAAuBC,MAAvB,EAA+B;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGvB,SAAS,CAACwB,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AAAE,QAAIE,MAAM,GAAGzB,SAAS,CAACuB,CAAD,CAAT,IAAgB,IAAhB,GAAuBvB,SAAS,CAACuB,CAAD,CAAhC,GAAsC,EAAnD;;AAAuD,QAAIA,CAAC,GAAG,CAAR,EAAW;AAAEd,MAAAA,OAAO,CAACI,MAAM,CAACY,MAAD,CAAP,EAAiB,IAAjB,CAAP,CAA8BC,OAA9B,CAAsC,UAAUC,GAAV,EAAe;AAAE1C,QAAAA,eAAe,CAACqC,MAAD,EAASK,GAAT,EAAcF,MAAM,CAACE,GAAD,CAApB,CAAf;AAA4C,OAAnG;AAAuG,KAApH,MAA0H,IAAId,MAAM,CAACe,yBAAX,EAAsC;AAAEf,MAAAA,MAAM,CAACgB,gBAAP,CAAwBP,MAAxB,EAAgCT,MAAM,CAACe,yBAAP,CAAiCH,MAAjC,CAAhC;AAA4E,KAApH,MAA0H;AAAEhB,MAAAA,OAAO,CAACI,MAAM,CAACY,MAAD,CAAP,CAAP,CAAwBC,OAAxB,CAAgC,UAAUC,GAAV,EAAe;AAAEd,QAAAA,MAAM,CAACiB,cAAP,CAAsBR,MAAtB,EAA8BK,GAA9B,EAAmCd,MAAM,CAACK,wBAAP,CAAgCO,MAAhC,EAAwCE,GAAxC,CAAnC;AAAmF,OAApI;AAAwI;AAAE;;AAAC,SAAOL,MAAP;AAAgB;AAEthB;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASS,UAAT,CAAoBC,SAApB,EAA+BC,OAA/B,EAAwC;AACtC,MAAI,CAACD,SAAL,EAAgB;AACd,SAAK,IAAIE,IAAI,GAAGlC,SAAS,CAACwB,MAArB,EAA6BW,IAAI,GAAG,IAAIC,KAAJ,CAAUF,IAAI,GAAG,CAAP,GAAWA,IAAI,GAAG,CAAlB,GAAsB,CAAhC,CAApC,EAAwEG,IAAI,GAAG,CAApF,EAAuFA,IAAI,GAAGH,IAA9F,EAAoGG,IAAI,EAAxG,EAA4G;AAC1GF,MAAAA,IAAI,CAACE,IAAI,GAAG,CAAR,CAAJ,GAAiBrC,SAAS,CAACqC,IAAD,CAA1B;AACD;;AAED,UAAM,IAAIC,SAAJ,CAAcC,MAAM,CAACN,OAAD,EAAUE,IAAV,CAApB,CAAN;AACD;AACF;AACD;AACA;AACA;AACA;AACA;;;AAGA,SAASI,MAAT,CAAgBN,OAAhB,EAAyBE,IAAzB,EAA+B;AAC7B,MAAIZ,CAAC,GAAG,CAAR;AACA,SAAOU,OAAO,CAACO,OAAR,CAAgB,QAAhB,EAA0B,YAAY;AAC3C,WAAOC,WAAW,CAACN,IAAI,CAACZ,CAAC,EAAF,CAAL,CAAlB;AACD,GAFM,CAAP;AAGD;AACD;AACA;AACA;AACA;;;AAGA,SAASkB,WAAT,CAAqBC,CAArB,EAAwB;AACtB,MAAItD,OAAO,CAACsD,CAAD,CAAP,KAAe,QAAf,IAA2BA,CAAC,KAAK,IAArC,EAA2C;AACzC,WAAOC,MAAM,CAACD,CAAD,CAAb;AACD;;AAED,SAAO7B,MAAM,CAACR,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BmC,CAA/B,CAAP;AACD;;AAED,IAAIE,mBAAJ;AACA;AACA;AACA;AACA;;AAEA,SAASC,eAAT,CAAyBC,KAAzB,EAAgC;AAC9Bf,EAAAA,UAAU,CAAC,OAAOe,KAAP,KAAiB,UAAjB,IAA+BA,KAAK,KAAKC,SAA1C,EAAqD,gEAArD,EAAuHD,KAAvH,CAAV;AACAF,EAAAA,mBAAmB,GAAGE,KAAtB;AACD;AACD;AACA;AACA;AACA;;;AAGA,SAASE,WAAT,CAAqBC,UAArB,EAAiC;AAC/B,MAAI;AACF,QAAIC,KAAK,GAAGD,UAAU,YAAYE,KAAtB,GAA8BF,UAA9B,GAA2C,IAAIE,KAAJ,CAAUV,WAAW,CAACQ,UAAD,CAArB,CAAvD,CADE,CACyF;;AAE3F,QAAIL,mBAAJ,EAAyB;AACvBA,MAAAA,mBAAmB,CAACM,KAAD,CAAnB;AACA;AACD,KANC,CAMA;;;AAGF,QAAI,OAAOE,aAAP,KAAyB,UAAzB,IAAuC,OAAOC,UAAP,KAAsB,UAAjE,EAA6E;AAC3ED,MAAAA,aAAa,CAAC,IAAIC,UAAJ,CAAe,OAAf,EAAwB;AACpCH,QAAAA,KAAK,EAAEA,KAD6B;AAEpCjB,QAAAA,OAAO,EAAEiB,KAAK,CAACjB;AAFqB,OAAxB,CAAD,CAAb;AAID,KALD,CAKE;AACF;AANA,SAOK,IAAI,OAAOqB,OAAP,KAAmB,WAAnB,IAAkC,OAAOA,OAAO,CAACC,IAAf,KAAwB,UAA9D,EAA0E;AAC3ED,MAAAA,OAAO,CAACC,IAAR,CAAa,mBAAb,EAAkCL,KAAlC;AACA;AACD,KAnBD,CAmBE;;;AAGJM,IAAAA,OAAO,CAACN,KAAR,CAAcA,KAAd;AACD,GAvBD,CAuBE,OAAOO,EAAP,EAAW,CAAC;AACb;AACF;AACD;AACA;AACA;AACA;;;AAGA,IAAIC,MAAM,GAAG,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAOC,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqC,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,OAAOC,UAAP,KAAsB,WAAtB,GAAoCA,UAApC,GAAiDf,SAArL;AACA,IAAIgB,kBAAJ;AACA;AACA;AACA;AACA;;AAEA,SAASC,iBAAT,CAA2BlB,KAA3B,EAAkC;AAChCf,EAAAA,UAAU,CAAC,OAAOe,KAAP,KAAiB,UAAjB,IAA+BA,KAAK,KAAKC,SAA1C,EAAqD,kEAArD,EAAyHD,KAAzH,CAAV;AACAiB,EAAAA,kBAAkB,GAAGjB,KAArB;AACD;AACD;AACA;AACA;;;AAGA,IAAImB,OAAO,GAAG,aAAa,YAAY;AACrC,WAASA,OAAT,CAAiBC,IAAjB,EAAuBjC,OAAvB,EAAgC;AAC9B/C,IAAAA,eAAe,CAAC,IAAD,EAAO+E,OAAP,CAAf;;AAEA,SAAKC,IAAL,GAAYA,IAAZ;AACA,SAAKjC,OAAL,GAAeA,OAAf;AACD;AACD;AACF;AACA;AACA;;;AAGE9C,EAAAA,YAAY,CAAC8E,OAAD,EAAU,CAAC;AACrBtC,IAAAA,GAAG,EAAE,MADgB;AAErBmB,IAAAA,KAAK,EAAE,SAASqB,IAAT,GAAgB;AACrB,UAAIV,EAAJ;;AAEA,UAAI;AACF,YAAIW,QAAJ;;AAEA,aAAK,IAAIC,KAAK,GAAGrE,SAAS,CAACwB,MAAtB,EAA8BW,IAAI,GAAG,IAAIC,KAAJ,CAAUiC,KAAV,CAArC,EAAuDC,KAAK,GAAG,CAApE,EAAuEA,KAAK,GAAGD,KAA/E,EAAsFC,KAAK,EAA3F,EAA+F;AAC7FnC,UAAAA,IAAI,CAACmC,KAAD,CAAJ,GAActE,SAAS,CAACsE,KAAD,CAAvB;AACD,SALC,CAOF;;;AACA,YAAIP,kBAAJ,EAAwB;AACtBA,UAAAA,kBAAkB,CAAC1C,aAAa,CAACA,aAAa,CAAC,EAAD,EAAK,IAAL,CAAd,EAA0B,EAA1B,EAA8B;AAC5Dc,YAAAA,IAAI,EAAEA;AADsD,WAA9B,CAAd,CAAlB;AAGA;AACD,SAbC,CAaA;;;AAGF,YAAIoC,KAAK,GAAG,CAAC,CAACd,EAAE,GAAG,IAAIN,KAAJ,GAAYoB,KAAlB,MAA6B,IAA7B,IAAqCd,EAAE,KAAK,KAAK,CAAjD,GAAqDA,EAArD,GAA0D,EAA3D,EAA+DjB,OAA/D,CAAuE,6KAAvE,EAAsP,IAAtP,CAAZ;;AAEA,SAAC4B,QAAQ,GAAGZ,OAAZ,EAAqBW,IAArB,CAA0BlE,KAA1B,CAAgCmE,QAAhC,EAA0C,CAAC,KAAKnC,OAAN,EAAeuC,MAAf,CAAsBrC,IAAtB,EAA4B,CAACoC,KAAD,CAA5B,CAA1C;AACD,OAnBD,CAmBE,OAAOE,EAAP,EAAW,CAAC;AACb;AACF;AA1BoB,GAAD,CAAV,CAAZ;;AA6BA,SAAOR,OAAP;AACD,CA3C0B,EAA3B;;AA6CA,IAAIS,kCAAkC,GAAG,IAAIT,OAAJ,CAAY,KAAZ,EAAmB,+CAAnB,CAAzC;AACA,IAAIU,8BAA8B,GAAG,IAAIV,OAAJ,CAAY,KAAZ,EAAmB,qEAAnB,CAArC;AACA,IAAIW,8BAA8B,GAAG,IAAIX,OAAJ,CAAY,KAAZ,EAAmB,qEAAnB,CAArC;AACA,IAAIY,6BAA6B,GAAG,IAAIZ,OAAJ,CAAY,KAAZ,EAAmB,oDAAnB,CAApC;AACA,IAAIa,yBAAyB,GAAG,IAAIb,OAAJ,CAAY,KAAZ,EAAmB,oEAAnB,CAAhC;AACA,IAAIc,0BAA0B,GAAG,IAAId,OAAJ,CAAY,KAAZ,EAAmB,0EAAnB,CAAjC;AACA,IAAIe,gBAAgB,GAAG,IAAIf,OAAJ,CAAY,KAAZ,EAAmB,0FAAnB,CAAvB;AACA,IAAIgB,oBAAoB,GAAG,IAAIhB,OAAJ,CAAY,KAAZ,EAAmB,2FAAnB,CAA3B;AACA,IAAIiB,uBAAuB,GAAG,IAAIjB,OAAJ,CAAY,KAAZ,EAAmB,gDAAnB,CAA9B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,IAAIkB,KAAK,GAAG,aAAa,YAAY;AACnChG,EAAAA,YAAY,CAACgG,KAAD,EAAQ,IAAR,EAAc,CAAC;AACzBxD,IAAAA,GAAG,EAAE,MADoB;;AAGzB;AACJ;AACA;AACIyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAOC,IAAP;AACD;AACD;AACJ;AACA;;AAX6B,GAAD,EAavB;AACD1D,IAAAA,GAAG,EAAE,iBADJ;AAEDyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAOE,eAAP;AACD;AACD;AACJ;AACA;;AAPK,GAbuB,EAsBvB;AACD3D,IAAAA,GAAG,EAAE,WADJ;AAEDyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAOG,SAAP;AACD;AACD;AACJ;AACA;;AAPK,GAtBuB,EA+BvB;AACD5D,IAAAA,GAAG,EAAE,gBADJ;AAEDyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAOI,cAAP;AACD;AACD;AACJ;AACA;AACA;AACA;AACA;;AAVK,GA/BuB,CAAd,CAAZ;;AA6CA,WAASL,KAAT,CAAeM,IAAf,EAAqBC,aAArB,EAAoC;AAClCxG,IAAAA,eAAe,CAAC,IAAD,EAAOiG,KAAP,CAAf;;AAEAtE,IAAAA,MAAM,CAACiB,cAAP,CAAsB,IAAtB,EAA4B,WAA5B,EAAyC;AACvCgB,MAAAA,KAAK,EAAE,KADgC;AAEvC3B,MAAAA,UAAU,EAAE;AAF2B,KAAzC;AAIA,QAAIwE,IAAI,GAAGD,aAAa,KAAK,IAAlB,IAA0BA,aAAa,KAAK,KAAK,CAAjD,GAAqDA,aAArD,GAAqE,EAAhF;AACAE,IAAAA,eAAe,CAACC,GAAhB,CAAoB,IAApB,EAA0B;AACxBJ,MAAAA,IAAI,EAAE9C,MAAM,CAAC8C,IAAD,CADY;AAExBK,MAAAA,OAAO,EAAEC,OAAO,CAACJ,IAAI,CAACG,OAAN,CAFQ;AAGxBE,MAAAA,UAAU,EAAED,OAAO,CAACJ,IAAI,CAACK,UAAN,CAHK;AAIxBC,MAAAA,QAAQ,EAAEF,OAAO,CAACJ,IAAI,CAACM,QAAN,CAJO;AAKxB3E,MAAAA,MAAM,EAAE,IALgB;AAMxB4E,MAAAA,aAAa,EAAE,IANS;AAOxBC,MAAAA,mBAAmB,EAAE,KAPG;AAQxBC,MAAAA,4BAA4B,EAAE,KARN;AASxBC,MAAAA,YAAY,EAAE,KATU;AAUxBC,MAAAA,qBAAqB,EAAE,KAVC;AAWxBC,MAAAA,YAAY,EAAE,KAXU;AAYxBC,MAAAA,SAAS,EAAEpG,IAAI,CAACqG,GAAL;AAZa,KAA1B;AAcD;AACD;AACF;AACA;AACA;;;AAGEtH,EAAAA,YAAY,CAACgG,KAAD,EAAQ,CAAC;AACnBxD,IAAAA,GAAG,EAAE,cADc;;AAGnB;AACJ;AACA;AACA;AACA;AACImB,IAAAA,KAAK,EAAE,SAAS4D,YAAT,GAAwB;AAC7B,UAAIR,aAAa,GAAGS,CAAC,CAAC,IAAD,CAAD,CAAQT,aAA5B;;AAEA,UAAIA,aAAJ,EAAmB;AACjB,eAAO,CAACA,aAAD,CAAP;AACD;;AAED,aAAO,EAAP;AACD;AACD;AACJ;AACA;;AAnBuB,GAAD,EAqBjB;AACDvE,IAAAA,GAAG,EAAE,iBADJ;;AAGD;AACJ;AACA;AACA;AACA;AACImB,IAAAA,KAAK,EAAE,SAAS8D,eAAT,GAA2B;AAChCD,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQR,mBAAR,GAA8B,IAA9B;AACD;AACD;AACJ;AACA;AACA;AACA;;AAfK,GArBiB,EAsCjB;AACDxE,IAAAA,GAAG,EAAE,0BADJ;;AAGD;AACJ;AACA;AACA;AACImB,IAAAA,KAAK,EAAE,SAAS+D,wBAAT,GAAoC;AACzC,UAAIC,IAAI,GAAGH,CAAC,CAAC,IAAD,CAAZ;AACAG,MAAAA,IAAI,CAACX,mBAAL,GAA2BW,IAAI,CAACV,4BAAL,GAAoC,IAA/D;AACD;AACD;AACJ;AACA;AACA;;AAdK,GAtCiB,EAsDjB;AACDzE,IAAAA,GAAG,EAAE,gBADJ;;AAGD;AACJ;AACA;AACA;AACImB,IAAAA,KAAK,EAAE,SAASiE,cAAT,GAA0B;AAC/BC,MAAAA,aAAa,CAACL,CAAC,CAAC,IAAD,CAAF,CAAb;AACD;AACD;AACJ;AACA;AACA;;AAbK,GAtDiB,EAqEjB;AACDhF,IAAAA,GAAG,EAAE,WADJ;;AAGD;AACJ;AACA;AACImB,IAAAA,KAAK,EAAE,SAASmE,SAAT,CAAmBxB,IAAnB,EAAyB;AAC9B,UAAIK,OAAO,GAAG9F,SAAS,CAACwB,MAAV,GAAmB,CAAnB,IAAwBxB,SAAS,CAAC,CAAD,CAAT,KAAiB+C,SAAzC,GAAqD/C,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAAlF;AACA,UAAIgG,UAAU,GAAGhG,SAAS,CAACwB,MAAV,GAAmB,CAAnB,IAAwBxB,SAAS,CAAC,CAAD,CAAT,KAAiB+C,SAAzC,GAAqD/C,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAArF;AACA,UAAI8G,IAAI,GAAGH,CAAC,CAAC,IAAD,CAAZ;;AAEA,UAAIG,IAAI,CAACP,YAAT,EAAuB;AACrB7B,QAAAA,kCAAkC,CAACP,IAAnC;AACA;AACD;;AAEDyB,MAAAA,eAAe,CAACC,GAAhB,CAAoB,IAApB,EAA0BxE,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKyF,IAAL,CAAd,EAA0B,EAA1B,EAA8B;AACnErB,QAAAA,IAAI,EAAE9C,MAAM,CAAC8C,IAAD,CADuD;AAEnEK,QAAAA,OAAO,EAAEC,OAAO,CAACD,OAAD,CAFmD;AAGnEE,QAAAA,UAAU,EAAED,OAAO,CAACC,UAAD,CAHgD;AAInE1E,QAAAA,MAAM,EAAE,IAJ2D;AAKnE4E,QAAAA,aAAa,EAAE,IALoD;AAMnEC,QAAAA,mBAAmB,EAAE,KAN8C;AAOnEC,QAAAA,4BAA4B,EAAE,KAPqC;AAQnEC,QAAAA,YAAY,EAAE;AARqD,OAA9B,CAAvC;AAUD;AA1BA,GArEiB,EAgGjB;AACD1E,IAAAA,GAAG,EAAE,MADJ;AAEDyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAOuB,CAAC,CAAC,IAAD,CAAD,CAAQlB,IAAf;AACD;AACD;AACJ;AACA;AACA;;AARK,GAhGiB,EA0GjB;AACD9D,IAAAA,GAAG,EAAE,QADJ;AAEDyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAOuB,CAAC,CAAC,IAAD,CAAD,CAAQrF,MAAf;AACD;AACD;AACJ;AACA;AACA;AACA;;AATK,GA1GiB,EAqHjB;AACDK,IAAAA,GAAG,EAAE,YADJ;AAEDyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAOuB,CAAC,CAAC,IAAD,CAAD,CAAQrF,MAAf;AACD;AACD;AACJ;AACA;AACA;;AARK,GArHiB,EA+HjB;AACDK,IAAAA,GAAG,EAAE,eADJ;AAEDyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAOuB,CAAC,CAAC,IAAD,CAAD,CAAQT,aAAf;AACD;AAJA,GA/HiB,EAoIjB;AACDvE,IAAAA,GAAG,EAAE,MADJ;AAEDyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAOC,IAAP;AACD;AACD;AACJ;AACA;;AAPK,GApIiB,EA6IjB;AACD1D,IAAAA,GAAG,EAAE,iBADJ;AAEDyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAOE,eAAP;AACD;AACD;AACJ;AACA;;AAPK,GA7IiB,EAsJjB;AACD3D,IAAAA,GAAG,EAAE,WADJ;AAEDyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAOG,SAAP;AACD;AACD;AACJ;AACA;;AAPK,GAtJiB,EA+JjB;AACD5D,IAAAA,GAAG,EAAE,gBADJ;AAEDyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAOI,cAAP;AACD;AACD;AACJ;AACA;AACA;;AARK,GA/JiB,EAyKjB;AACD7D,IAAAA,GAAG,EAAE,YADJ;AAEDyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAOuB,CAAC,CAAC,IAAD,CAAD,CAAQJ,YAAR,GAAuB,CAAvB,GAA2B,CAAlC;AACD;AAJA,GAzKiB,EA8KjB;AACD5E,IAAAA,GAAG,EAAE,cADJ;AAEDyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAOuB,CAAC,CAAC,IAAD,CAAD,CAAQR,mBAAf;AACD;AACD;AACJ;AACA;AACA;AACA;AATK;AAWDN,IAAAA,GAAG,EAAE,SAASA,GAAT,CAAa/C,KAAb,EAAoB;AACvB,UAAIA,KAAJ,EAAW;AACT6D,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQR,mBAAR,GAA8B,IAA9B;AACD,OAFD,MAEO;AACLxB,QAAAA,8BAA8B,CAACR,IAA/B;AACD;AACF;AAjBA,GA9KiB,EAgMjB;AACDxC,IAAAA,GAAG,EAAE,SADJ;AAEDyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAOuB,CAAC,CAAC,IAAD,CAAD,CAAQb,OAAf;AACD;AACD;AACJ;AACA;AACA;;AARK,GAhMiB,EA0MjB;AACDnE,IAAAA,GAAG,EAAE,YADJ;AAEDyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAOuB,CAAC,CAAC,IAAD,CAAD,CAAQX,UAAf;AACD;AACD;AACJ;AACA;AACA;AACA;;AATK,GA1MiB,EAqNjB;AACDrE,IAAAA,GAAG,EAAE,aADJ;AAEDyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAO,CAACuB,CAAC,CAAC,IAAD,CAAD,CAAQN,YAAhB;AACD;AACD;AACJ;AACA;AACA;AACA;AATK;AAWDR,IAAAA,GAAG,EAAE,SAASA,GAAT,CAAa/C,KAAb,EAAoB;AACvB,UAAI,CAACA,KAAL,EAAY;AACVkE,QAAAA,aAAa,CAACL,CAAC,CAAC,IAAD,CAAF,CAAb;AACD,OAFD,MAEO;AACL/B,QAAAA,8BAA8B,CAACT,IAA/B;AACD;AACF;AAjBA,GArNiB,EAuOjB;AACDxC,IAAAA,GAAG,EAAE,kBADJ;AAEDyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAOuB,CAAC,CAAC,IAAD,CAAD,CAAQN,YAAf;AACD;AACD;AACJ;AACA;;AAPK,GAvOiB,EAgPjB;AACD1E,IAAAA,GAAG,EAAE,UADJ;AAEDyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAOuB,CAAC,CAAC,IAAD,CAAD,CAAQV,QAAf;AACD;AACD;AACJ;AACA;AACI;;AARC,GAhPiB,EA0PjB;AACDtE,IAAAA,GAAG,EAAE,WADJ;AAEDyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAO,KAAP;AACD;AACD;AACJ;AACA;;AAPK,GA1PiB,EAmQjB;AACDzD,IAAAA,GAAG,EAAE,WADJ;AAEDyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAOuB,CAAC,CAAC,IAAD,CAAD,CAAQH,SAAf;AACD;AAJA,GAnQiB,CAAR,CAAZ;;AA0QA,SAAOrB,KAAP;AACD,CAtVwB,EAAzB,C,CAsVK;AACL;AACA;;;AAGA,IAAIE,IAAI,GAAG,CAAX;AACA,IAAIC,eAAe,GAAG,CAAtB;AACA,IAAIC,SAAS,GAAG,CAAhB;AACA,IAAIC,cAAc,GAAG,CAArB;AACA;AACA;AACA;;AAEA,IAAII,eAAe,GAAG,IAAIsB,OAAJ,EAAtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASP,CAAT,CAAWQ,KAAX,EAAkB;AAChB,MAAIC,IAAI,GAAGpH,SAAS,CAACwB,MAAV,GAAmB,CAAnB,IAAwBxB,SAAS,CAAC,CAAD,CAAT,KAAiB+C,SAAzC,GAAqD/C,SAAS,CAAC,CAAD,CAA9D,GAAoE,MAA/E;AACA,MAAIqH,IAAI,GAAGzB,eAAe,CAACR,GAAhB,CAAoB+B,KAApB,CAAX;AACApF,EAAAA,UAAU,CAACsF,IAAI,IAAI,IAAT,EAAe,gFAAf,EAAiGD,IAAjG,EAAuGD,KAAvG,CAAV;AACA,SAAOE,IAAP;AACD;AACD;AACA;AACA;AACA;;;AAGA,SAASL,aAAT,CAAuBF,IAAvB,EAA6B;AAC3B,MAAIA,IAAI,CAACR,qBAAT,EAAgC;AAC9BxB,IAAAA,yBAAyB,CAACX,IAA1B;AACA;AACD;;AAED,MAAI,CAAC2C,IAAI,CAACd,UAAV,EAAsB;AACpBnB,IAAAA,6BAA6B,CAACV,IAA9B;AACA;AACD;;AAED2C,EAAAA,IAAI,CAACT,YAAL,GAAoB,IAApB;AACD,C,CAAC;;;AAGFxF,MAAM,CAACiB,cAAP,CAAsBqD,KAAtB,EAA6B,MAA7B,EAAqC;AACnChE,EAAAA,UAAU,EAAE;AADuB,CAArC;AAGAN,MAAM,CAACiB,cAAP,CAAsBqD,KAAtB,EAA6B,iBAA7B,EAAgD;AAC9ChE,EAAAA,UAAU,EAAE;AADkC,CAAhD;AAGAN,MAAM,CAACiB,cAAP,CAAsBqD,KAAtB,EAA6B,WAA7B,EAA0C;AACxChE,EAAAA,UAAU,EAAE;AAD4B,CAA1C;AAGAN,MAAM,CAACiB,cAAP,CAAsBqD,KAAtB,EAA6B,gBAA7B,EAA+C;AAC7ChE,EAAAA,UAAU,EAAE;AADiC,CAA/C;AAGA,IAAIP,IAAI,GAAGC,MAAM,CAACyG,mBAAP,CAA2BnC,KAAK,CAAC9E,SAAjC,CAAX;;AAEA,KAAK,IAAIkB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGX,IAAI,CAACY,MAAzB,EAAiC,EAAED,CAAnC,EAAsC;AACpC,MAAIX,IAAI,CAACW,CAAD,CAAJ,KAAY,aAAhB,EAA+B;AAC7B;AACD;;AAEDV,EAAAA,MAAM,CAACiB,cAAP,CAAsBqD,KAAK,CAAC9E,SAA5B,EAAuCO,IAAI,CAACW,CAAD,CAA3C,EAAgD;AAC9CJ,IAAAA,UAAU,EAAE;AADkC,GAAhD;AAGD,C,CAAC;;;AAGF,IAAI,OAAOuC,MAAP,KAAkB,WAAlB,IAAiC,OAAOA,MAAM,CAACyB,KAAd,KAAwB,WAA7D,EAA0E;AACxEtE,EAAAA,MAAM,CAAC0G,cAAP,CAAsBpC,KAAK,CAAC9E,SAA5B,EAAuCqD,MAAM,CAACyB,KAAP,CAAa9E,SAApD;AACD;AACD;AACA;AACA;AACA;;;AAGA,SAASmH,uBAAT,CAAiCvF,OAAjC,EAA0C;AACxC,MAAIyB,MAAM,CAAC+D,YAAX,EAAyB;AACvB,WAAO,IAAI/D,MAAM,CAAC+D,YAAX,CAAwBxF,OAAxB,EAAiC,mBAAjC,CAAP;AACD;;AAED,MAAIwF,YAAY,IAAI,IAApB,EAA0B;AACxBA,IAAAA,YAAY,GAAG,aAAa,UAAUC,MAAV,EAAkB;AAC5C7I,MAAAA,SAAS,CAAC4I,YAAD,EAAeC,MAAf,CAAT;;AAEA,UAAIC,MAAM,GAAGtI,YAAY,CAACoI,YAAD,CAAzB;;AAEA,eAASA,YAAT,CAAsBG,GAAtB,EAA2B;AACzB,YAAIC,KAAJ;;AAEA3I,QAAAA,eAAe,CAAC,IAAD,EAAOuI,YAAP,CAAf;;AAEAI,QAAAA,KAAK,GAAGF,MAAM,CAACpH,IAAP,CAAY,IAAZ,EAAkBqH,GAAlB,CAAR;;AAEA,YAAIzE,KAAK,CAAC2E,iBAAV,EAA6B;AAC3B3E,UAAAA,KAAK,CAAC2E,iBAAN,CAAwBlJ,sBAAsB,CAACiJ,KAAD,CAA9C,EAAuDJ,YAAvD;AACD;;AAED,eAAOI,KAAP;AACD,OAjB2C,CAiB1C;;;AAGF1I,MAAAA,YAAY,CAACsI,YAAD,EAAe,CAAC;AAC1B9F,QAAAA,GAAG,EAAE,MADqB;AAE1ByD,QAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,iBAAO,EAAP;AACD,SAJyB,CAIxB;;AAJwB,OAAD,EAMxB;AACDzD,QAAAA,GAAG,EAAE,MADJ;AAEDyD,QAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,iBAAO,mBAAP;AACD;AAJA,OANwB,CAAf,CAAZ;;AAaA,aAAOqC,YAAP;AACD,KAlC2B,EAkCzB,aAAazI,gBAAgB,CAACmE,KAAD,CAlCJ,CAA5B;;AAoCAtC,IAAAA,MAAM,CAACgB,gBAAP,CAAwB4F,YAAY,CAACpH,SAArC,EAAgD;AAC9C6D,MAAAA,IAAI,EAAE;AACJ/C,QAAAA,UAAU,EAAE;AADR,OADwC;AAI9CiG,MAAAA,IAAI,EAAE;AACJjG,QAAAA,UAAU,EAAE;AADR;AAJwC,KAAhD;AAQA4G,IAAAA,yBAAyB,CAACN,YAAD,CAAzB;AACAM,IAAAA,yBAAyB,CAACN,YAAY,CAACpH,SAAd,CAAzB;AACD;;AAED,SAAO,IAAIoH,YAAJ,CAAiBxF,OAAjB,CAAP;AACD,C,CAAC;AACF;AACA;;;AAGA,IAAIwF,YAAJ;AACA,IAAIO,YAAY,GAAG;AACjBC,EAAAA,cAAc,EAAE,CADC;AAEjBC,EAAAA,kBAAkB,EAAE,CAFH;AAGjBC,EAAAA,qBAAqB,EAAE,CAHN;AAIjBC,EAAAA,kBAAkB,EAAE,CAJH;AAKjBC,EAAAA,qBAAqB,EAAE,CALN;AAMjBC,EAAAA,mBAAmB,EAAE,CANJ;AAOjBC,EAAAA,2BAA2B,EAAE,CAPZ;AAQjBC,EAAAA,aAAa,EAAE,CARE;AASjBC,EAAAA,iBAAiB,EAAE,CATF;AAUjBC,EAAAA,mBAAmB,EAAE,EAVJ;AAWjBC,EAAAA,iBAAiB,EAAE,EAXF;AAYjBC,EAAAA,UAAU,EAAE,EAZK;AAajBC,EAAAA,wBAAwB,EAAE,EAbT;AAcjBC,EAAAA,aAAa,EAAE,EAdE;AAejBC,EAAAA,kBAAkB,EAAE,EAfH;AAgBjBC,EAAAA,cAAc,EAAE,EAhBC;AAiBjBC,EAAAA,iBAAiB,EAAE,EAjBF;AAkBjBC,EAAAA,YAAY,EAAE,EAlBG;AAmBjBC,EAAAA,WAAW,EAAE,EAnBI;AAoBjBC,EAAAA,SAAS,EAAE,EApBM;AAqBjBC,EAAAA,gBAAgB,EAAE,EArBD;AAsBjBC,EAAAA,kBAAkB,EAAE,EAtBH;AAuBjBC,EAAAA,WAAW,EAAE,EAvBI;AAwBjBC,EAAAA,qBAAqB,EAAE,EAxBN;AAyBjBC,EAAAA,cAAc,EAAE;AAzBC,CAAnB;;AA4BA,SAAS1B,yBAAT,CAAmC2B,GAAnC,EAAwC;AACtC,MAAI9I,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYoH,YAAZ,CAAX;;AAEA,MAAI2B,KAAK,GAAG,SAASA,KAAT,CAAeC,EAAf,EAAmB;AAC7B,QAAIjI,GAAG,GAAGf,IAAI,CAACgJ,EAAD,CAAd;AACA,QAAI9G,KAAK,GAAGkF,YAAY,CAACrG,GAAD,CAAxB;AACAd,IAAAA,MAAM,CAACiB,cAAP,CAAsB4H,GAAtB,EAA2B/H,GAA3B,EAAgC;AAC9ByD,MAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,eAAOtC,KAAP;AACD,OAH6B;AAI9B+G,MAAAA,YAAY,EAAE,IAJgB;AAK9B1I,MAAAA,UAAU,EAAE;AALkB,KAAhC;AAOD,GAVD;;AAYA,OAAK,IAAIyI,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGhJ,IAAI,CAACY,MAA3B,EAAmC,EAAEoI,EAArC,EAAyC;AACvCD,IAAAA,KAAK,CAACC,EAAD,CAAL;AACD;AACF;AACD;AACA;AACA;AACA;AACA;;;AAGA,IAAIE,YAAY,GAAG,aAAa,UAAUC,MAAV,EAAkB;AAChDlL,EAAAA,SAAS,CAACiL,YAAD,EAAeC,MAAf,CAAT;;AAEA,MAAIC,OAAO,GAAG3K,YAAY,CAACyK,YAAD,CAA1B;;AAEA3K,EAAAA,YAAY,CAAC2K,YAAD,EAAe,IAAf,EAAqB,CAAC;AAChCnI,IAAAA,GAAG,EAAE,MAD2B;;AAGhC;AACJ;AACA;AACA;AACImB,IAAAA,KAAK,EAAE,SAASmH,IAAT,CAAc9C,KAAd,EAAqB;AAC1B,aAAO,KAAK+C,iBAAiB,CAAC/C,KAAD,CAAtB,EAA+BA,KAA/B,CAAP;AACD;AAT+B,GAAD,CAArB,CAAZ;;AAYA,WAAS2C,YAAT,CAAsB3C,KAAtB,EAA6B;AAC3B,QAAIgD,UAAJ,EAAgBC,WAAhB,EAA6BC,MAA7B;;AAEAnL,IAAAA,eAAe,CAAC,IAAD,EAAO4K,YAAP,CAAf;;AAEAO,IAAAA,MAAM,GAAGL,OAAO,CAACzJ,IAAR,CAAa,IAAb,EAAmB4G,KAAK,CAAC1B,IAAzB,EAA+B;AACtCK,MAAAA,OAAO,EAAEqB,KAAK,CAACrB,OADuB;AAEtCE,MAAAA,UAAU,EAAEmB,KAAK,CAACnB,UAFoB;AAGtCC,MAAAA,QAAQ,EAAEkB,KAAK,CAAClB;AAHsB,KAA/B,CAAT;;AAMA,QAAIkB,KAAK,CAACmD,YAAV,EAAwB;AACtB3L,MAAAA,IAAI,EAAEwL,UAAU,GAAGvL,sBAAsB,CAACyL,MAAD,CAAnC,EAA6CtL,eAAe,CAAC+K,YAAY,CAACzJ,SAAd,CAA9D,GAAyF,iBAAzF,EAA4G8J,UAA5G,CAAJ,CAA4H5J,IAA5H,CAAiI4J,UAAjI;AACD;;AAED,QAAIhD,KAAK,CAACoD,gBAAV,EAA4B;AAC1B5L,MAAAA,IAAI,EAAEyL,WAAW,GAAGxL,sBAAsB,CAACyL,MAAD,CAApC,EAA8CtL,eAAe,CAAC+K,YAAY,CAACzJ,SAAd,CAA/D,GAA0F,gBAA1F,EAA4G+J,WAA5G,CAAJ,CAA6H7J,IAA7H,CAAkI6J,WAAlI;AACD;;AAEDI,IAAAA,iBAAiB,CAAC3E,GAAlB,CAAsBjH,sBAAsB,CAACyL,MAAD,CAA5C,EAAsD;AACpDI,MAAAA,QAAQ,EAAEtD;AAD0C,KAAtD,EAnB2B,CAqBvB;;AAEJ,QAAIvG,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYuG,KAAZ,CAAX;;AAEA,SAAK,IAAIuD,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAG9J,IAAI,CAACY,MAA7B,EAAqC,EAAEkJ,GAAvC,EAA4C;AAC1C,UAAI/I,GAAG,GAAGf,IAAI,CAAC8J,GAAD,CAAd;;AAEA,UAAI,EAAE/I,GAAG,IAAI/C,sBAAsB,CAACyL,MAAD,CAA/B,CAAJ,EAA8C;AAC5CxJ,QAAAA,MAAM,CAACiB,cAAP,CAAsBlD,sBAAsB,CAACyL,MAAD,CAA5C,EAAsD1I,GAAtD,EAA2DgJ,wBAAwB,CAACxD,KAAD,EAAQxF,GAAR,CAAnF;AACD;AACF;;AAED,WAAO0I,MAAP;AACD;;AAEDlL,EAAAA,YAAY,CAAC2K,YAAD,EAAe,CAAC;AAC1BnI,IAAAA,GAAG,EAAE,iBADqB;AAE1BmB,IAAAA,KAAK,EAAE,SAAS8D,eAAT,GAA2B;AAChCjI,MAAAA,IAAI,CAACI,eAAe,CAAC+K,YAAY,CAACzJ,SAAd,CAAhB,EAA0C,iBAA1C,EAA6D,IAA7D,CAAJ,CAAuEE,IAAvE,CAA4E,IAA5E;;AAEA,UAAIqK,GAAG,GAAGC,GAAG,CAAC,IAAD,CAAb;AAAA,UACIJ,QAAQ,GAAGG,GAAG,CAACH,QADnB;;AAGA,UAAI,qBAAqBA,QAAzB,EAAmC;AACjCA,QAAAA,QAAQ,CAAC7D,eAAT;AACD;AACF;AAXyB,GAAD,EAYxB;AACDjF,IAAAA,GAAG,EAAE,0BADJ;AAEDmB,IAAAA,KAAK,EAAE,SAAS+D,wBAAT,GAAoC;AACzClI,MAAAA,IAAI,CAACI,eAAe,CAAC+K,YAAY,CAACzJ,SAAd,CAAhB,EAA0C,0BAA1C,EAAsE,IAAtE,CAAJ,CAAgFE,IAAhF,CAAqF,IAArF;;AAEA,UAAIuK,IAAI,GAAGD,GAAG,CAAC,IAAD,CAAd;AAAA,UACIJ,QAAQ,GAAGK,IAAI,CAACL,QADpB;;AAGA,UAAI,8BAA8BA,QAAlC,EAA4C;AAC1CA,QAAAA,QAAQ,CAAC5D,wBAAT;AACD;AACF;AAXA,GAZwB,EAwBxB;AACDlF,IAAAA,GAAG,EAAE,gBADJ;AAEDmB,IAAAA,KAAK,EAAE,SAASiE,cAAT,GAA0B;AAC/BpI,MAAAA,IAAI,CAACI,eAAe,CAAC+K,YAAY,CAACzJ,SAAd,CAAhB,EAA0C,gBAA1C,EAA4D,IAA5D,CAAJ,CAAsEE,IAAtE,CAA2E,IAA3E;;AAEA,UAAIwK,IAAI,GAAGF,GAAG,CAAC,IAAD,CAAd;AAAA,UACIJ,QAAQ,GAAGM,IAAI,CAACN,QADpB;;AAGA,UAAI,oBAAoBA,QAAxB,EAAkC;AAChCA,QAAAA,QAAQ,CAAC1D,cAAT;AACD;AACF;AAXA,GAxBwB,EAoCxB;AACDpF,IAAAA,GAAG,EAAE,cADJ;AAEDyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAOzG,IAAI,CAACI,eAAe,CAAC+K,YAAY,CAACzJ,SAAd,CAAhB,EAA0C,cAA1C,EAA0D,IAA1D,CAAX;AACD,KAJA;AAKDwF,IAAAA,GAAG,EAAE,SAASA,GAAT,CAAa/C,KAAb,EAAoB;AACvBpE,MAAAA,IAAI,CAACK,eAAe,CAAC+K,YAAY,CAACzJ,SAAd,CAAhB,EAA0C,cAA1C,EAA0DyC,KAA1D,EAAiE,IAAjE,EAAuE,IAAvE,CAAJ;;AAEA,UAAIkI,IAAI,GAAGH,GAAG,CAAC,IAAD,CAAd;AAAA,UACIJ,QAAQ,GAAGO,IAAI,CAACP,QADpB;;AAGA,UAAI,kBAAkBA,QAAtB,EAAgC;AAC9BA,QAAAA,QAAQ,CAACH,YAAT,GAAwBxH,KAAxB;AACD;AACF;AAdA,GApCwB,EAmDxB;AACDnB,IAAAA,GAAG,EAAE,aADJ;AAEDyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAOzG,IAAI,CAACI,eAAe,CAAC+K,YAAY,CAACzJ,SAAd,CAAhB,EAA0C,aAA1C,EAAyD,IAAzD,CAAX;AACD,KAJA;AAKDwF,IAAAA,GAAG,EAAE,SAASA,GAAT,CAAa/C,KAAb,EAAoB;AACvBpE,MAAAA,IAAI,CAACK,eAAe,CAAC+K,YAAY,CAACzJ,SAAd,CAAhB,EAA0C,aAA1C,EAAyDyC,KAAzD,EAAgE,IAAhE,EAAsE,IAAtE,CAAJ;;AAEA,UAAImI,IAAI,GAAGJ,GAAG,CAAC,IAAD,CAAd;AAAA,UACIJ,QAAQ,GAAGQ,IAAI,CAACR,QADpB;;AAGA,UAAI,iBAAiBA,QAArB,EAA+B;AAC7BA,QAAAA,QAAQ,CAACS,WAAT,GAAuBpI,KAAvB;AACD;AACF;AAdA,GAnDwB,EAkExB;AACDnB,IAAAA,GAAG,EAAE,WADJ;AAEDyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,UAAI+F,IAAI,GAAGN,GAAG,CAAC,IAAD,CAAd;AAAA,UACIJ,QAAQ,GAAGU,IAAI,CAACV,QADpB;;AAGA,UAAI,eAAeA,QAAnB,EAA6B;AAC3B,eAAOA,QAAQ,CAACjE,SAAhB;AACD;;AAED,aAAO7H,IAAI,CAACI,eAAe,CAAC+K,YAAY,CAACzJ,SAAd,CAAhB,EAA0C,WAA1C,EAAuD,IAAvD,CAAX;AACD;AAXA,GAlEwB,CAAf,CAAZ;;AAgFA,SAAOyJ,YAAP;AACD,CAtI+B,CAsI9B3E,KAtI8B,CAAhC;AAuIA;AACA;AACA;;;AAGA,IAAIqF,iBAAiB,GAAG,IAAItD,OAAJ,EAAxB;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS2D,GAAT,CAAa1D,KAAb,EAAoB;AAClB,MAAIE,IAAI,GAAGmD,iBAAiB,CAACpF,GAAlB,CAAsB+B,KAAtB,CAAX;AACApF,EAAAA,UAAU,CAACsF,IAAI,IAAI,IAAT,EAAe,6CAAf,EAA8DF,KAA9D,CAAV;AACA,SAAOE,IAAP;AACD;AACD;AACA;AACA;AACA;AACA;;;AAGA,IAAI+D,iBAAiB,GAAG,IAAIlE,OAAJ,EAAxB,C,CAAuC;;AAEvCkE,iBAAiB,CAACvF,GAAlB,CAAsBhF,MAAM,CAACR,SAA7B,EAAwCyJ,YAAxC;;AAEA,IAAI,OAAOpG,MAAP,KAAkB,WAAlB,IAAiC,OAAOA,MAAM,CAACyB,KAAd,KAAwB,WAA7D,EAA0E;AACxEiG,EAAAA,iBAAiB,CAACvF,GAAlB,CAAsBnC,MAAM,CAACyB,KAAP,CAAa9E,SAAnC,EAA8CyJ,YAA9C;AACD;AACD;AACA;AACA;AACA;;;AAGA,SAASI,iBAAT,CAA2BmB,aAA3B,EAA0C;AACxC,MAAIhL,SAAS,GAAGQ,MAAM,CAACyK,cAAP,CAAsBD,aAAtB,CAAhB;;AAEA,MAAIhL,SAAS,IAAI,IAAjB,EAAuB;AACrB,WAAOyJ,YAAP;AACD;;AAED,MAAIyB,OAAO,GAAGH,iBAAiB,CAAChG,GAAlB,CAAsB/E,SAAtB,CAAd;;AAEA,MAAIkL,OAAO,IAAI,IAAf,EAAqB;AACnBA,IAAAA,OAAO,GAAGC,aAAa,CAACtB,iBAAiB,CAAC7J,SAAD,CAAlB,EAA+BA,SAA/B,CAAvB;AACA+K,IAAAA,iBAAiB,CAACvF,GAAlB,CAAsBxF,SAAtB,EAAiCkL,OAAjC;AACD;;AAED,SAAOA,OAAP;AACD;AACD;AACA;AACA;AACA;AACA;;;AAGA,SAASC,aAAT,CAAuBC,gBAAvB,EAAyCC,iBAAzC,EAA4D;AAC1D,MAAIC,kBAAkB,GAAG,aAAa,UAAUC,iBAAV,EAA6B;AACjE/M,IAAAA,SAAS,CAAC8M,kBAAD,EAAqBC,iBAArB,CAAT;;AAEA,QAAIC,OAAO,GAAGxM,YAAY,CAACsM,kBAAD,CAA1B;;AAEA,aAASA,kBAAT,GAA8B;AAC5BzM,MAAAA,eAAe,CAAC,IAAD,EAAOyM,kBAAP,CAAf;;AAEA,aAAOE,OAAO,CAAC5L,KAAR,CAAc,IAAd,EAAoBD,SAApB,CAAP;AACD;;AAED,WAAO2L,kBAAP;AACD,GAZqC,CAYpCF,gBAZoC,CAAtC;;AAcA,MAAI7K,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAY8K,iBAAZ,CAAX;;AAEA,OAAK,IAAII,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGlL,IAAI,CAACY,MAA7B,EAAqC,EAAEsK,GAAvC,EAA4C;AAC1CjL,IAAAA,MAAM,CAACiB,cAAP,CAAsB6J,kBAAkB,CAACtL,SAAzC,EAAoDO,IAAI,CAACkL,GAAD,CAAxD,EAA+DnB,wBAAwB,CAACe,iBAAD,EAAoB9K,IAAI,CAACkL,GAAD,CAAxB,CAAvF;AACD;;AAED,SAAOH,kBAAP;AACD;AACD;AACA;AACA;;;AAGA,SAAShB,wBAAT,CAAkCjB,GAAlC,EAAuC/H,GAAvC,EAA4C;AAC1C,MAAIoK,CAAC,GAAGlL,MAAM,CAACK,wBAAP,CAAgCwI,GAAhC,EAAqC/H,GAArC,CAAR;AACA,SAAO;AACLyD,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,UAAIqF,QAAQ,GAAGI,GAAG,CAAC,IAAD,CAAH,CAAUJ,QAAzB;AACA,UAAI3H,KAAK,GAAG2H,QAAQ,CAAC9I,GAAD,CAApB;;AAEA,UAAI,OAAOmB,KAAP,KAAiB,UAArB,EAAiC;AAC/B,eAAOA,KAAK,CAACkJ,IAAN,CAAWvB,QAAX,CAAP;AACD;;AAED,aAAO3H,KAAP;AACD,KAVI;AAWL+C,IAAAA,GAAG,EAAE,SAASA,GAAT,CAAa/C,KAAb,EAAoB;AACvB,UAAI2H,QAAQ,GAAGI,GAAG,CAAC,IAAD,CAAH,CAAUJ,QAAzB;AACAA,MAAAA,QAAQ,CAAC9I,GAAD,CAAR,GAAgBmB,KAAhB;AACD,KAdI;AAeL+G,IAAAA,YAAY,EAAEkC,CAAC,CAAClC,YAfX;AAgBL1I,IAAAA,UAAU,EAAE4K,CAAC,CAAC5K;AAhBT,GAAP;AAkBD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,SAAS8K,cAAT,CAAwBC,QAAxB,EAAkCC,OAAlC,EAA2CC,OAA3C,EAAoDC,IAApD,EAA0DC,MAA1D,EAAkEC,cAAlE,EAAkF;AAChF,SAAO;AACLL,IAAAA,QAAQ,EAAEA,QADL;AAELM,IAAAA,KAAK,EAAE,CAACL,OAAO,GAAG;AAClB;AADe,MAEb,CAFK,KAECC,OAAO,GAAG;AAClB;AADe,MAEb,CAJK,KAICC,IAAI,GAAG;AACf;AADY,MAEV,CANK,CAFF;AASLC,IAAAA,MAAM,EAAEA,MATH;AAULC,IAAAA,cAAc,EAAEA;AAVX,GAAP;AAYD;AACD;AACA;AACA;AACA;;;AAGA,SAASE,UAAT,CAAoBC,QAApB,EAA8B;AAC5BA,EAAAA,QAAQ,CAACF,KAAT,IAAkB;AAClB;AADA;AAGD;AACD;AACA;AACA;AACA;;;AAGA,SAASG,SAAT,CAAmBD,QAAnB,EAA6B;AAC3B,SAAO,CAACA,QAAQ,CAACF,KAAT,GAAiB;AACzB;AADO,QAED;AACN;AAHA;AAKD;AACD;AACA;AACA;AACA;;;AAGA,SAASI,SAAT,CAAmBF,QAAnB,EAA6B;AAC3B,SAAO,CAACA,QAAQ,CAACF,KAAT,GAAiB;AACzB;AADO,QAED;AACN;AAHA;AAKD;AACD;AACA;AACA;AACA;;;AAGA,SAASK,MAAT,CAAgBH,QAAhB,EAA0B;AACxB,SAAO,CAACA,QAAQ,CAACF,KAAT,GAAiB;AACzB;AADO,QAED;AACN;AAHA;AAKD;AACD;AACA;AACA;AACA;;;AAGA,SAASM,SAAT,CAAmBJ,QAAnB,EAA6B;AAC3B,SAAO,CAACA,QAAQ,CAACF,KAAT,GAAiB;AACzB;AADO,QAED;AACN;AAHA;AAKD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,SAASO,cAAT,CAAwBC,IAAxB,EAA8B1L,MAA9B,EAAsC6F,KAAtC,EAA6C;AAC3C,MAAI+E,QAAQ,GAAGc,IAAI,CAACd,QAApB;;AAEA,MAAI;AACF,QAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;AAClCA,MAAAA,QAAQ,CAAC3L,IAAT,CAAce,MAAd,EAAsB6F,KAAtB;AACD,KAFD,MAEO,IAAI,OAAO+E,QAAQ,CAACe,WAAhB,KAAgC,UAApC,EAAgD;AACrDf,MAAAA,QAAQ,CAACe,WAAT,CAAqB9F,KAArB;AACD;AACF,GAND,CAME,OAAO+F,WAAP,EAAoB;AACpBlK,IAAAA,WAAW,CAACkK,WAAD,CAAX;AACD;AACF;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,SAASC,mBAAT,CAA6BC,KAA7B,EAAoClB,QAApC,EAA8CC,OAA9C,EAAuD;AACrD,MAAIkB,SAAS,GAAGD,KAAK,CAACC,SAAtB;;AAEA,OAAK,IAAIC,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGD,SAAS,CAAC7L,MAAlC,EAA0C,EAAE8L,GAA5C,EAAiD;AAC/C,QAAID,SAAS,CAACC,GAAD,CAAT,CAAepB,QAAf,KAA4BA,QAA5B,IAAwCS,SAAS,CAACU,SAAS,CAACC,GAAD,CAAV,CAAT,KAA8BnB,OAA1E,EAAmF;AACjF,aAAOmB,GAAP;AACD;AACF;;AAED,SAAO,CAAC,CAAR;AACD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,SAASC,WAAT,CAAqBC,IAArB,EAA2BtB,QAA3B,EAAqCC,OAArC,EAA8CC,OAA9C,EAAuDC,IAAvD,EAA6DC,MAA7D,EAAqE;AACnE,MAAIC,cAAJ;;AAEA,MAAID,MAAJ,EAAY;AACVC,IAAAA,cAAc,GAAGkB,cAAc,CAACzB,IAAf,CAAoB,IAApB,EAA0BwB,IAA1B,EAAgCtB,QAAhC,EAA0CC,OAA1C,CAAjB;AACAG,IAAAA,MAAM,CAACoB,gBAAP,CAAwB,OAAxB,EAAiCnB,cAAjC;AACD;;AAED,MAAIG,QAAQ,GAAGT,cAAc,CAACC,QAAD,EAAWC,OAAX,EAAoBC,OAApB,EAA6BC,IAA7B,EAAmCC,MAAnC,EAA2CC,cAA3C,CAA7B;;AAEA,MAAIiB,IAAI,CAACG,GAAT,EAAc;AACZH,IAAAA,IAAI,CAACG,GAAL,GAAW,KAAX;AACAH,IAAAA,IAAI,CAACH,SAAL,GAAiB,GAAG7I,MAAH,CAAU/F,kBAAkB,CAAC+O,IAAI,CAACH,SAAN,CAA5B,EAA8C,CAACX,QAAD,CAA9C,CAAjB;AACD,GAHD,MAGO;AACLc,IAAAA,IAAI,CAACH,SAAL,CAAejM,IAAf,CAAoBsL,QAApB;AACD;;AAED,SAAOA,QAAP;AACD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,SAASe,cAAT,CAAwBD,IAAxB,EAA8BtB,QAA9B,EAAwCC,OAAxC,EAAiD;AAC/C,MAAIyB,KAAK,GAAGT,mBAAmB,CAACK,IAAD,EAAOtB,QAAP,EAAiBC,OAAjB,CAA/B;;AAEA,MAAIyB,KAAK,KAAK,CAAC,CAAf,EAAkB;AAChB,WAAOC,gBAAgB,CAACL,IAAD,EAAOI,KAAP,CAAvB;AACD;;AAED,SAAO,KAAP;AACD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,SAASC,gBAAT,CAA0BL,IAA1B,EAAgCI,KAAhC,EAAuC;AACrC,MAAIE,UAAU,GAAG9N,SAAS,CAACwB,MAAV,GAAmB,CAAnB,IAAwBxB,SAAS,CAAC,CAAD,CAAT,KAAiB+C,SAAzC,GAAqD/C,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAArF;AACA,MAAI0M,QAAQ,GAAGc,IAAI,CAACH,SAAL,CAAeO,KAAf,CAAf,CAFqC,CAEC;;AAEtCnB,EAAAA,UAAU,CAACC,QAAD,CAAV,CAJqC,CAIf;;AAEtB,MAAIA,QAAQ,CAACJ,MAAb,EAAqB;AACnBI,IAAAA,QAAQ,CAACJ,MAAT,CAAgByB,mBAAhB,CAAoC,OAApC,EAA6CrB,QAAQ,CAACH,cAAtD;AACD,GARoC,CAQnC;;;AAGF,MAAIiB,IAAI,CAACG,GAAL,IAAY,CAACG,UAAjB,EAA6B;AAC3BN,IAAAA,IAAI,CAACG,GAAL,GAAW,KAAX;AACAH,IAAAA,IAAI,CAACH,SAAL,GAAiBG,IAAI,CAACH,SAAL,CAAerM,MAAf,CAAsB,UAAUgN,CAAV,EAAazM,CAAb,EAAgB;AACrD,aAAOA,CAAC,KAAKqM,KAAb;AACD,KAFgB,CAAjB;AAGA,WAAO,KAAP;AACD;;AAEDJ,EAAAA,IAAI,CAACH,SAAL,CAAeY,MAAf,CAAsBL,KAAtB,EAA6B,CAA7B;AACA,SAAO,IAAP;AACD;AACD;AACA;AACA;;;AAGA,SAASM,qBAAT,GAAiC;AAC/B,SAAOrN,MAAM,CAACsN,MAAP,CAAc,IAAd,CAAP;AACD;AACD;AACA;AACA;AACA;AACA;AACA;;;AAGA,SAASC,kBAAT,CAA4BC,WAA5B,EAAyC5I,IAAzC,EAA+C;AAC7C,MAAIhC,EAAJ;;AAEA,SAAO,CAACA,EAAE,GAAG4K,WAAW,CAAC5I,IAAD,CAAjB,MAA6B,IAA7B,IAAqChC,EAAE,KAAK,KAAK,CAAjD,GAAqDA,EAArD,GAA0D4K,WAAW,CAAC5I,IAAD,CAAX,GAAoB;AACnF6I,IAAAA,YAAY,EAAEvL,SADqE;AAEnFwL,IAAAA,YAAY,EAAExL,SAFqE;AAGnF4K,IAAAA,GAAG,EAAE,KAH8E;AAInFN,IAAAA,SAAS,EAAE;AAJwE,GAArF;AAMD;AACD;AACA;AACA;AACA;;;AAGA,IAAImB,WAAW,GAAG,aAAa,YAAY;AACzC;AACF;AACA;AACE,WAASA,WAAT,GAAuB;AACrBtP,IAAAA,eAAe,CAAC,IAAD,EAAOsP,WAAP,CAAf;;AAEAC,IAAAA,iBAAiB,CAAC5I,GAAlB,CAAsB,IAAtB,EAA4BqI,qBAAqB,EAAjD;AACD,GARwC,CAQvC;;;AAGF/O,EAAAA,YAAY,CAACqP,WAAD,EAAc,CAAC;AACzB7M,IAAAA,GAAG,EAAE,kBADoB;AAEzBmB,IAAAA,KAAK,EAAE,SAAS4K,gBAAT,CAA0BgB,KAA1B,EAAiCC,SAAjC,EAA4CC,QAA5C,EAAsD;AAC3D,UAAIP,WAAW,GAAGQ,GAAG,CAAC,IAAD,CAArB;;AAEA,UAAIC,oBAAoB,GAAGC,mBAAmB,CAACL,KAAD,EAAQC,SAAR,EAAmBC,QAAnB,CAA9C;AAAA,UACI1C,QAAQ,GAAG4C,oBAAoB,CAAC5C,QADpC;AAAA,UAEIC,OAAO,GAAG2C,oBAAoB,CAAC3C,OAFnC;AAAA,UAGIE,IAAI,GAAGyC,oBAAoB,CAACzC,IAHhC;AAAA,UAIID,OAAO,GAAG0C,oBAAoB,CAAC1C,OAJnC;AAAA,UAKIE,MAAM,GAAGwC,oBAAoB,CAACxC,MALlC;AAAA,UAMI7G,IAAI,GAAGqJ,oBAAoB,CAACrJ,IANhC;;AAQA,UAAIyG,QAAQ,IAAI,IAAZ,KAAqBI,MAAM,KAAK,IAAX,IAAmBA,MAAM,KAAK,KAAK,CAAnC,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAAC0C,OAA5E,CAAJ,EAA0F;AACxF;AACD;;AAED,UAAIxB,IAAI,GAAGY,kBAAkB,CAACC,WAAD,EAAc5I,IAAd,CAA7B,CAf2D,CAeT;;AAElD,UAAIlE,CAAC,GAAG4L,mBAAmB,CAACK,IAAD,EAAOtB,QAAP,EAAiBC,OAAjB,CAA3B;;AAEA,UAAI5K,CAAC,KAAK,CAAC,CAAX,EAAc;AACZ0N,QAAAA,aAAa,CAACzB,IAAI,CAACH,SAAL,CAAe9L,CAAf,CAAD,EAAoB6K,OAApB,EAA6BC,IAA7B,EAAmCC,MAAnC,CAAb;AACA;AACD,OAtB0D,CAsBzD;;;AAGFiB,MAAAA,WAAW,CAACC,IAAD,EAAOtB,QAAP,EAAiBC,OAAjB,EAA0BC,OAA1B,EAAmCC,IAAnC,EAAyCC,MAAzC,CAAX;AACD,KA5BwB,CA4BvB;;AA5BuB,GAAD,EA8BvB;AACD3K,IAAAA,GAAG,EAAE,qBADJ;AAEDmB,IAAAA,KAAK,EAAE,SAASiL,mBAAT,CAA6BW,KAA7B,EAAoCC,SAApC,EAA+CC,QAA/C,EAAyD;AAC9D,UAAIP,WAAW,GAAGQ,GAAG,CAAC,IAAD,CAArB;;AAEA,UAAIK,iBAAiB,GAAGC,gBAAgB,CAACT,KAAD,EAAQC,SAAR,EAAmBC,QAAnB,CAAxC;AAAA,UACI1C,QAAQ,GAAGgD,iBAAiB,CAAChD,QADjC;AAAA,UAEIC,OAAO,GAAG+C,iBAAiB,CAAC/C,OAFhC;AAAA,UAGI1G,IAAI,GAAGyJ,iBAAiB,CAACzJ,IAH7B;;AAKA,UAAI+H,IAAI,GAAGa,WAAW,CAAC5I,IAAD,CAAtB;;AAEA,UAAIyG,QAAQ,IAAI,IAAZ,IAAoBsB,IAAxB,EAA8B;AAC5BC,QAAAA,cAAc,CAACD,IAAD,EAAOtB,QAAP,EAAiBC,OAAjB,CAAd;AACD;AACF,KAfA,CAeC;;AAfD,GA9BuB,EA+CvB;AACDxK,IAAAA,GAAG,EAAE,eADJ;AAEDmB,IAAAA,KAAK,EAAE,SAASM,aAAT,CAAuB5C,CAAvB,EAA0B;AAC/B,UAAIgN,IAAI,GAAGqB,GAAG,CAAC,IAAD,CAAH,CAAUlM,MAAM,CAACnC,CAAC,CAACiF,IAAH,CAAhB,CAAX;;AAEA,UAAI+H,IAAI,IAAI,IAAZ,EAAkB;AAChB,eAAO,IAAP;AACD;;AAED,UAAIrG,KAAK,GAAG3G,CAAC,YAAY2E,KAAb,GAAqB3E,CAArB,GAAyBsJ,YAAY,CAACG,IAAb,CAAkBzJ,CAAlB,CAArC;AACA,UAAI4O,SAAS,GAAGzI,CAAC,CAACQ,KAAD,EAAQ,OAAR,CAAjB;;AAEA,UAAIiI,SAAS,CAAC7I,YAAd,EAA4B;AAC1B,cAAMiB,uBAAuB,CAAC,qCAAD,CAA7B;AACD;;AAED4H,MAAAA,SAAS,CAAC7I,YAAV,GAAyB,IAAzB;AACA6I,MAAAA,SAAS,CAAC9N,MAAV,GAAmB8N,SAAS,CAAClJ,aAAV,GAA0B,IAA7C;;AAEA,UAAI,CAACkJ,SAAS,CAACjJ,mBAAf,EAAoC;AAClC,YAAIwH,GAAG,GAAGH,IAAI,CAACG,GAAf;AAAA,YACIN,SAAS,GAAGG,IAAI,CAACH,SADrB,CADkC,CAEF;;AAEhCG,QAAAA,IAAI,CAACG,GAAL,GAAW,IAAX,CAJkC,CAIjB;;AAEjB,aAAK,IAAI0B,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGhC,SAAS,CAAC7L,MAAlC,EAA0C,EAAE6N,GAA5C,EAAiD;AAC/C,cAAI3C,QAAQ,GAAGW,SAAS,CAACgC,GAAD,CAAxB,CAD+C,CAChB;;AAE/B,cAAIvC,SAAS,CAACJ,QAAD,CAAb,EAAyB;AACvB;AACD,WAL8C,CAK7C;;;AAGF,cAAIG,MAAM,CAACH,QAAD,CAAN,IAAoBmB,gBAAgB,CAACL,IAAD,EAAO6B,GAAP,EAAY,CAAC1B,GAAb,CAAxC,EAA2D;AACzD;AACA;AACA0B,YAAAA,GAAG,IAAI,CAAP;AACD,WAZ8C,CAY7C;;;AAGFD,UAAAA,SAAS,CAAC9I,qBAAV,GAAkCsG,SAAS,CAACF,QAAD,CAA3C;AACAK,UAAAA,cAAc,CAACL,QAAD,EAAW,IAAX,EAAiBvF,KAAjB,CAAd;AACAiI,UAAAA,SAAS,CAAC9I,qBAAV,GAAkC,KAAlC,CAjB+C,CAiBN;;AAEzC,cAAI8I,SAAS,CAAChJ,4BAAd,EAA4C;AAC1C;AACD;AACF,SA5BiC,CA4BhC;;;AAGF,YAAI,CAACuH,GAAL,EAAU;AACRH,UAAAA,IAAI,CAACG,GAAL,GAAW,KAAX;AACD;AACF;;AAEDyB,MAAAA,SAAS,CAAC9N,MAAV,GAAmB,IAAnB;AACA8N,MAAAA,SAAS,CAAClJ,aAAV,GAA0B,IAA1B;AACAkJ,MAAAA,SAAS,CAAChJ,4BAAV,GAAyC,KAAzC;AACAgJ,MAAAA,SAAS,CAACjJ,mBAAV,GAAgC,KAAhC;AACAiJ,MAAAA,SAAS,CAAC7I,YAAV,GAAyB,KAAzB;AACA,aAAO,CAAC6I,SAAS,CAAC/I,YAAlB;AACD;AA7DA,GA/CuB,CAAd,CAAZ;;AA+GA,SAAOmI,WAAP;AACD,CA3H8B,EAA/B;AA4HA;AACA;AACA;;;AAGA,IAAIC,iBAAiB,GAAG,IAAIvH,OAAJ,EAAxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS2H,GAAT,CAAavN,MAAb,EAAqB;AACnB,MAAI8F,IAAI,GAAGpH,SAAS,CAACwB,MAAV,GAAmB,CAAnB,IAAwBxB,SAAS,CAAC,CAAD,CAAT,KAAiB+C,SAAzC,GAAqD/C,SAAS,CAAC,CAAD,CAA9D,GAAoE,MAA/E;AACA,MAAIqH,IAAI,GAAGoH,iBAAiB,CAACrJ,GAAlB,CAAsB9D,MAAtB,CAAX;AACAS,EAAAA,UAAU,CAACsF,IAAI,IAAI,IAAT,EAAe,sFAAf,EAAuGD,IAAvG,EAA6G9F,MAA7G,CAAV;AACA,SAAO+F,IAAP;AACD;AACD;AACA;AACA;AACA;;;AAGA,SAAS0H,mBAAT,CAA6BtJ,IAA7B,EAAmCyG,QAAnC,EAA6CoD,OAA7C,EAAsD;AACpD,MAAI7L,EAAJ;;AAEA8L,EAAAA,cAAc,CAACrD,QAAD,CAAd;;AAEA,MAAI9M,OAAO,CAACkQ,OAAD,CAAP,KAAqB,QAArB,IAAiCA,OAAO,KAAK,IAAjD,EAAuD;AACrD,WAAO;AACL7J,MAAAA,IAAI,EAAE9C,MAAM,CAAC8C,IAAD,CADP;AAELyG,MAAAA,QAAQ,EAAEA,QAAQ,KAAK,IAAb,IAAqBA,QAAQ,KAAK,KAAK,CAAvC,GAA2CA,QAA3C,GAAsDnJ,SAF3D;AAGLoJ,MAAAA,OAAO,EAAEpG,OAAO,CAACuJ,OAAO,CAACnD,OAAT,CAHX;AAILC,MAAAA,OAAO,EAAErG,OAAO,CAACuJ,OAAO,CAAClD,OAAT,CAJX;AAKLC,MAAAA,IAAI,EAAEtG,OAAO,CAACuJ,OAAO,CAACjD,IAAT,CALR;AAMLC,MAAAA,MAAM,EAAE,CAAC7I,EAAE,GAAG6L,OAAO,CAAChD,MAAd,MAA0B,IAA1B,IAAkC7I,EAAE,KAAK,KAAK,CAA9C,GAAkDA,EAAlD,GAAuDV;AAN1D,KAAP;AAQD;;AAED,SAAO;AACL0C,IAAAA,IAAI,EAAE9C,MAAM,CAAC8C,IAAD,CADP;AAELyG,IAAAA,QAAQ,EAAEA,QAAQ,KAAK,IAAb,IAAqBA,QAAQ,KAAK,KAAK,CAAvC,GAA2CA,QAA3C,GAAsDnJ,SAF3D;AAGLoJ,IAAAA,OAAO,EAAEpG,OAAO,CAACuJ,OAAD,CAHX;AAILlD,IAAAA,OAAO,EAAE,KAJJ;AAKLC,IAAAA,IAAI,EAAE,KALD;AAMLC,IAAAA,MAAM,EAAEvJ;AANH,GAAP;AAQD;AACD;AACA;AACA;AACA;;;AAGA,SAASoM,gBAAT,CAA0B1J,IAA1B,EAAgCyG,QAAhC,EAA0CoD,OAA1C,EAAmD;AACjDC,EAAAA,cAAc,CAACrD,QAAD,CAAd;;AAEA,MAAI9M,OAAO,CAACkQ,OAAD,CAAP,KAAqB,QAArB,IAAiCA,OAAO,KAAK,IAAjD,EAAuD;AACrD,WAAO;AACL7J,MAAAA,IAAI,EAAE9C,MAAM,CAAC8C,IAAD,CADP;AAELyG,MAAAA,QAAQ,EAAEA,QAAQ,KAAK,IAAb,IAAqBA,QAAQ,KAAK,KAAK,CAAvC,GAA2CA,QAA3C,GAAsDnJ,SAF3D;AAGLoJ,MAAAA,OAAO,EAAEpG,OAAO,CAACuJ,OAAO,CAACnD,OAAT;AAHX,KAAP;AAKD;;AAED,SAAO;AACL1G,IAAAA,IAAI,EAAE9C,MAAM,CAAC8C,IAAD,CADP;AAELyG,IAAAA,QAAQ,EAAEA,QAAQ,KAAK,IAAb,IAAqBA,QAAQ,KAAK,KAAK,CAAvC,GAA2CA,QAA3C,GAAsDnJ,SAF3D;AAGLoJ,IAAAA,OAAO,EAAEpG,OAAO,CAACuJ,OAAD;AAHX,GAAP;AAKD;AACD;AACA;AACA;AACA;;;AAGA,SAASC,cAAT,CAAwBrD,QAAxB,EAAkC;AAChC,MAAI,OAAOA,QAAP,KAAoB,UAApB,IAAkC9M,OAAO,CAAC8M,QAAD,CAAP,KAAsB,QAAtB,IAAkCA,QAAQ,KAAK,IAA/C,IAAuD,OAAOA,QAAQ,CAACe,WAAhB,KAAgC,UAA7H,EAAyI;AACvI;AACD;;AAED,MAAIf,QAAQ,IAAI,IAAZ,IAAoB9M,OAAO,CAAC8M,QAAD,CAAP,KAAsB,QAA9C,EAAwD;AACtDjH,IAAAA,oBAAoB,CAACd,IAArB,CAA0B+H,QAA1B;AACA;AACD;;AAED,QAAM,IAAI5J,SAAJ,CAAcC,MAAM,CAAC0C,oBAAoB,CAAChD,OAAtB,EAA+B,CAACiK,QAAD,CAA/B,CAApB,CAAN;AACD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,SAAS+C,aAAT,CAAuBvC,QAAvB,EAAiCN,OAAjC,EAA0CC,IAA1C,EAAgDC,MAAhD,EAAwD;AACtDvH,EAAAA,0BAA0B,CAACZ,IAA3B,CAAgCwI,SAAS,CAACD,QAAD,CAAT,GAAsB,SAAtB,GAAkC,QAAlE,EAA4EA,QAAQ,CAACR,QAArF;;AAEA,MAAIU,SAAS,CAACF,QAAD,CAAT,KAAwBN,OAA5B,EAAqC;AACnCpH,IAAAA,gBAAgB,CAACb,IAAjB,CAAsB,SAAtB;AACD;;AAED,MAAI0I,MAAM,CAACH,QAAD,CAAN,KAAqBL,IAAzB,EAA+B;AAC7BrH,IAAAA,gBAAgB,CAACb,IAAjB,CAAsB,MAAtB;AACD;;AAED,MAAIuI,QAAQ,CAACJ,MAAT,KAAoBA,MAAxB,EAAgC;AAC9BtH,IAAAA,gBAAgB,CAACb,IAAjB,CAAsB,QAAtB;AACD;AACF,C,CAAC;;;AAGF,IAAIqL,MAAM,GAAG3O,MAAM,CAACyG,mBAAP,CAA2BkH,WAAW,CAACnO,SAAvC,CAAb;;AAEA,KAAK,IAAIoP,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGD,MAAM,CAAChO,MAA/B,EAAuC,EAAEiO,GAAzC,EAA8C;AAC5C,MAAID,MAAM,CAACC,GAAD,CAAN,KAAgB,aAApB,EAAmC;AACjC;AACD;;AAED5O,EAAAA,MAAM,CAACiB,cAAP,CAAsB0M,WAAW,CAACnO,SAAlC,EAA6CmP,MAAM,CAACC,GAAD,CAAnD,EAA0D;AACxDtO,IAAAA,UAAU,EAAE;AAD4C,GAA1D;AAGD,C,CAAC;;;AAGF,IAAI,OAAOuC,MAAP,KAAkB,WAAlB,IAAiC,OAAOA,MAAM,CAAC8K,WAAd,KAA8B,WAAnE,EAAgF;AAC9E3N,EAAAA,MAAM,CAAC0G,cAAP,CAAsBiH,WAAW,CAACnO,SAAlC,EAA6CqD,MAAM,CAAC8K,WAAP,CAAmBnO,SAAhE;AACD;AACD;AACA;AACA;AACA;AACA;;;AAGA,SAASqP,sBAAT,CAAgCpO,MAAhC,EAAwCmE,IAAxC,EAA8C;AAC5C,MAAIhC,EAAJ,EAAQgB,EAAR;;AAEA,MAAIkL,OAAO,GAAGd,GAAG,CAACvN,MAAD,EAAS,QAAT,CAAjB;AACA,SAAO,CAACmD,EAAE,GAAG,CAAChB,EAAE,GAAGkM,OAAO,CAAClK,IAAD,CAAb,MAAyB,IAAzB,IAAiChC,EAAE,KAAK,KAAK,CAA7C,GAAiD,KAAK,CAAtD,GAA0DA,EAAE,CAAC6K,YAAnE,MAAqF,IAArF,IAA6F7J,EAAE,KAAK,KAAK,CAAzG,GAA6GA,EAA7G,GAAkH,IAAzH;AACD;AACD;AACA;AACA;AACA;AACA;AACA;;;AAGA,SAASmL,sBAAT,CAAgCtO,MAAhC,EAAwCmE,IAAxC,EAA8CyG,QAA9C,EAAwD;AACtD,MAAIA,QAAQ,IAAI,IAAZ,IAAoB,OAAOA,QAAP,KAAoB,UAA5C,EAAwD;AACtDhH,IAAAA,uBAAuB,CAACf,IAAxB,CAA6B+H,QAA7B;AACD;;AAED,MAAI,OAAOA,QAAP,KAAoB,UAApB,IAAkC9M,OAAO,CAAC8M,QAAD,CAAP,KAAsB,QAAtB,IAAkCA,QAAQ,KAAK,IAArF,EAA2F;AACzF2D,IAAAA,4BAA4B,CAACvO,MAAD,EAASmE,IAAT,EAAeyG,QAAf,CAA5B;AACD,GAFD,MAEO;AACL4D,IAAAA,4BAA4B,CAACxO,MAAD,EAASmE,IAAT,CAA5B;AACD;AACF,C,CAAC;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA,SAASoK,4BAAT,CAAsCvO,MAAtC,EAA8CmE,IAA9C,EAAoDyG,QAApD,EAA8D;AAC5D,MAAIsB,IAAI,GAAGY,kBAAkB,CAACS,GAAG,CAACvN,MAAD,EAAS,QAAT,CAAJ,EAAwBqB,MAAM,CAAC8C,IAAD,CAA9B,CAA7B;AACA+H,EAAAA,IAAI,CAACc,YAAL,GAAoBpC,QAApB;;AAEA,MAAIsB,IAAI,CAACe,YAAL,IAAqB,IAAzB,EAA+B;AAC7Bf,IAAAA,IAAI,CAACe,YAAL,GAAoBhB,WAAW,CAACC,IAAD,EAAOuC,4BAA4B,CAACvC,IAAD,CAAnC,EAA2C,KAA3C,EAAkD,KAAlD,EAAyD,KAAzD,EAAgEzK,SAAhE,CAA/B;AACD;AACF;AACD;AACA;AACA;AACA;AACA;AACA;;;AAGA,SAAS+M,4BAAT,CAAsCxO,MAAtC,EAA8CmE,IAA9C,EAAoD;AAClD,MAAIkK,OAAO,GAAGd,GAAG,CAACvN,MAAD,EAAS,QAAT,CAAjB;AACA,MAAIkM,IAAI,GAAGmC,OAAO,CAAChN,MAAM,CAAC8C,IAAD,CAAP,CAAlB;;AAEA,MAAI+H,IAAI,IAAIA,IAAI,CAACe,YAAjB,EAA+B;AAC7Bd,IAAAA,cAAc,CAACD,IAAD,EAAOA,IAAI,CAACe,YAAL,CAAkBrC,QAAzB,EAAmC,KAAnC,CAAd;AACAsB,IAAAA,IAAI,CAACc,YAAL,GAAoBd,IAAI,CAACe,YAAL,GAAoBxL,SAAxC;AACD;AACF;AACD;AACA;AACA;AACA;AACA;;;AAGA,SAASgN,4BAAT,CAAsCvC,IAAtC,EAA4C;AAC1C,SAAO,UAAUrG,KAAV,EAAiB;AACtB,QAAI+E,QAAQ,GAAGsB,IAAI,CAACc,YAApB;;AAEA,QAAI,OAAOpC,QAAP,KAAoB,UAAxB,EAAoC;AAClCA,MAAAA,QAAQ,CAAC3L,IAAT,CAAc,IAAd,EAAoB4G,KAApB;AACD;AACF,GAND;AAOD;AACD;AACA;AACA;AACA;AACA;;;AAGA,SAAS6I,uBAAT,GAAmC;AACjC,MAAIC,iBAAiB,GAAG,aAAa,UAAUC,YAAV,EAAwB;AAC3DrR,IAAAA,SAAS,CAACoR,iBAAD,EAAoBC,YAApB,CAAT;;AAEA,QAAIC,OAAO,GAAG9Q,YAAY,CAAC4Q,iBAAD,CAA1B;;AAEA,aAASA,iBAAT,GAA6B;AAC3B/Q,MAAAA,eAAe,CAAC,IAAD,EAAO+Q,iBAAP,CAAf;;AAEA,aAAOE,OAAO,CAAClQ,KAAR,CAAc,IAAd,EAAoBD,SAApB,CAAP;AACD;;AAED,WAAOiQ,iBAAP;AACD,GAZoC,CAYnCzB,WAZmC,CAArC;;AAcA,OAAK,IAAI4B,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGpQ,SAAS,CAACwB,MAAlC,EAA0C,EAAE4O,GAA5C,EAAiD;AAC/CC,IAAAA,oBAAoB,CAACJ,iBAAiB,CAAC5P,SAAnB,EAA8B+P,GAAG,GAAG,CAAN,IAAWpQ,SAAS,CAACwB,MAAV,IAAoB4O,GAA/B,GAAqCrN,SAArC,GAAiD/C,SAAS,CAACoQ,GAAD,CAAxF,CAApB;AACD;;AAED,SAAOH,iBAAP;AACD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,SAASI,oBAAT,CAA8B/O,MAA9B,EAAsCmE,IAAtC,EAA4C6K,WAA5C,EAAyD;AACvDzP,EAAAA,MAAM,CAACiB,cAAP,CAAsBR,MAAtB,EAA8B,KAAKkD,MAAL,CAAYiB,IAAZ,CAA9B,EAAiD;AAC/CL,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAOsK,sBAAsB,CAAC,IAAD,EAAOjK,IAAP,CAA7B;AACD,KAH8C;AAI/CI,IAAAA,GAAG,EAAE,SAASA,GAAT,CAAa/C,KAAb,EAAoB;AACvB8M,MAAAA,sBAAsB,CAAC,IAAD,EAAOnK,IAAP,EAAa3C,KAAb,CAAtB;AACD,KAN8C;AAO/C+G,IAAAA,YAAY,EAAE,IAPiC;AAQ/C1I,IAAAA,UAAU,EAAE;AARmC,GAAjD;AAUD;;AAED,eAAeqN,WAAf;AACA,SAASrJ,KAAT,EAAgBqJ,WAAhB,EAA6BwB,uBAA7B,EAAsDK,oBAAtD,EAA4EX,sBAA5E,EAAoG7M,eAApG,EAAqH+M,sBAArH,EAA6I5L,iBAA7I","sourcesContent":["import _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\nimport _set from '@babel/runtime/helpers/esm/set';\nimport _get from '@babel/runtime/helpers/esm/get';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _wrapNativeSuper from '@babel/runtime/helpers/esm/wrapNativeSuper';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _typeof from '@babel/runtime/helpers/esm/typeof';\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/**\n * Assert a condition.\n * @param condition The condition that it should satisfy.\n * @param message The error message.\n * @param args The arguments for replacing placeholders in the message.\n */\nfunction assertType(condition, message) {\n  if (!condition) {\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    throw new TypeError(format(message, args));\n  }\n}\n/**\n * Convert a text and arguments to one string.\n * @param message The formating text\n * @param args The arguments.\n */\n\n\nfunction format(message, args) {\n  var i = 0;\n  return message.replace(/%[os]/g, function () {\n    return anyToString(args[i++]);\n  });\n}\n/**\n * Convert a value to a string representation.\n * @param x The value to get the string representation.\n */\n\n\nfunction anyToString(x) {\n  if (_typeof(x) !== \"object\" || x === null) {\n    return String(x);\n  }\n\n  return Object.prototype.toString.call(x);\n}\n\nvar currentErrorHandler;\n/**\n * Set the error handler.\n * @param value The error handler to set.\n */\n\nfunction setErrorHandler(value) {\n  assertType(typeof value === \"function\" || value === undefined, \"The error handler must be a function or undefined, but got %o.\", value);\n  currentErrorHandler = value;\n}\n/**\n * Print a error message.\n * @param maybeError The error object.\n */\n\n\nfunction reportError(maybeError) {\n  try {\n    var error = maybeError instanceof Error ? maybeError : new Error(anyToString(maybeError)); // Call the user-defined error handler if exists.\n\n    if (currentErrorHandler) {\n      currentErrorHandler(error);\n      return;\n    } // Dispatch an `error` event if this is on a browser.\n\n\n    if (typeof dispatchEvent === \"function\" && typeof ErrorEvent === \"function\") {\n      dispatchEvent(new ErrorEvent(\"error\", {\n        error: error,\n        message: error.message\n      }));\n    } // Emit an `uncaughtException` event if this is on Node.js.\n    //istanbul ignore else\n    else if (typeof process !== \"undefined\" && typeof process.emit === \"function\") {\n        process.emit(\"uncaughtException\", error);\n        return;\n      } // Otherwise, print the error.\n\n\n    console.error(error);\n  } catch (_a) {// ignore.\n  }\n}\n/**\n * The global object.\n */\n//istanbul ignore next\n\n\nvar Global = typeof window !== \"undefined\" ? window : typeof self !== \"undefined\" ? self : typeof global !== \"undefined\" ? global : typeof globalThis !== \"undefined\" ? globalThis : undefined;\nvar currentWarnHandler;\n/**\n * Set the warning handler.\n * @param value The warning handler to set.\n */\n\nfunction setWarningHandler(value) {\n  assertType(typeof value === \"function\" || value === undefined, \"The warning handler must be a function or undefined, but got %o.\", value);\n  currentWarnHandler = value;\n}\n/**\n * The warning information.\n */\n\n\nvar Warning = /*#__PURE__*/function () {\n  function Warning(code, message) {\n    _classCallCheck(this, Warning);\n\n    this.code = code;\n    this.message = message;\n  }\n  /**\n   * Report this warning.\n   * @param args The arguments of the warning.\n   */\n\n\n  _createClass(Warning, [{\n    key: \"warn\",\n    value: function warn() {\n      var _a;\n\n      try {\n        var _console;\n\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        // Call the user-defined warning handler if exists.\n        if (currentWarnHandler) {\n          currentWarnHandler(_objectSpread(_objectSpread({}, this), {}, {\n            args: args\n          }));\n          return;\n        } // Otherwise, print the warning.\n\n\n        var stack = ((_a = new Error().stack) !== null && _a !== void 0 ? _a : \"\").replace(/^(?:(?:[\\0-\\t\\x0B\\f\\x0E-\\u2027\\u202A-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+?\\n){2}/g, \"\\n\");\n\n        (_console = console).warn.apply(_console, [this.message].concat(args, [stack]));\n      } catch (_b) {// Ignore.\n      }\n    }\n  }]);\n\n  return Warning;\n}();\n\nvar InitEventWasCalledWhileDispatching = new Warning(\"W01\", \"Unable to initialize event under dispatching.\");\nvar FalsyWasAssignedToCancelBubble = new Warning(\"W02\", \"Assigning any falsy value to 'cancelBubble' property has no effect.\");\nvar TruthyWasAssignedToReturnValue = new Warning(\"W03\", \"Assigning any truthy value to 'returnValue' property has no effect.\");\nvar NonCancelableEventWasCanceled = new Warning(\"W04\", \"Unable to preventDefault on non-cancelable events.\");\nvar CanceledInPassiveListener = new Warning(\"W05\", \"Unable to preventDefault inside passive event listener invocation.\");\nvar EventListenerWasDuplicated = new Warning(\"W06\", \"An event listener wasn't added because it has been added already: %o, %o\");\nvar OptionWasIgnored = new Warning(\"W07\", \"The %o option value was abandoned because the event listener wasn't added as duplicated.\");\nvar InvalidEventListener = new Warning(\"W08\", \"The 'callback' argument must be a function or an object that has 'handleEvent' method: %o\");\nvar InvalidAttributeHandler = new Warning(\"W09\", \"Event attribute handler must be a function: %o\");\n/*eslint-disable class-methods-use-this */\n\n/**\n * An implementation of `Event` interface, that wraps a given event object.\n * `EventTarget` shim can control the internal state of this `Event` objects.\n * @see https://dom.spec.whatwg.org/#event\n */\n\nvar Event = /*#__PURE__*/function () {\n  _createClass(Event, null, [{\n    key: \"NONE\",\n\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-none\n     */\n    get: function get() {\n      return NONE;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-capturing_phase\n     */\n\n  }, {\n    key: \"CAPTURING_PHASE\",\n    get: function get() {\n      return CAPTURING_PHASE;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-at_target\n     */\n\n  }, {\n    key: \"AT_TARGET\",\n    get: function get() {\n      return AT_TARGET;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-bubbling_phase\n     */\n\n  }, {\n    key: \"BUBBLING_PHASE\",\n    get: function get() {\n      return BUBBLING_PHASE;\n    }\n    /**\n     * Initialize this event instance.\n     * @param type The type of this event.\n     * @param eventInitDict Options to initialize.\n     * @see https://dom.spec.whatwg.org/#dom-event-event\n     */\n\n  }]);\n\n  function Event(type, eventInitDict) {\n    _classCallCheck(this, Event);\n\n    Object.defineProperty(this, \"isTrusted\", {\n      value: false,\n      enumerable: true\n    });\n    var opts = eventInitDict !== null && eventInitDict !== void 0 ? eventInitDict : {};\n    internalDataMap.set(this, {\n      type: String(type),\n      bubbles: Boolean(opts.bubbles),\n      cancelable: Boolean(opts.cancelable),\n      composed: Boolean(opts.composed),\n      target: null,\n      currentTarget: null,\n      stopPropagationFlag: false,\n      stopImmediatePropagationFlag: false,\n      canceledFlag: false,\n      inPassiveListenerFlag: false,\n      dispatchFlag: false,\n      timeStamp: Date.now()\n    });\n  }\n  /**\n   * The type of this event.\n   * @see https://dom.spec.whatwg.org/#dom-event-type\n   */\n\n\n  _createClass(Event, [{\n    key: \"composedPath\",\n\n    /**\n     * The event target of the current dispatching.\n     * This doesn't support node tree.\n     * @see https://dom.spec.whatwg.org/#dom-event-composedpath\n     */\n    value: function composedPath() {\n      var currentTarget = $(this).currentTarget;\n\n      if (currentTarget) {\n        return [currentTarget];\n      }\n\n      return [];\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-none\n     */\n\n  }, {\n    key: \"stopPropagation\",\n\n    /**\n     * Stop event bubbling.\n     * Because this shim doesn't support node tree, this merely changes the `cancelBubble` property value.\n     * @see https://dom.spec.whatwg.org/#dom-event-stoppropagation\n     */\n    value: function stopPropagation() {\n      $(this).stopPropagationFlag = true;\n    }\n    /**\n     * `true` if event bubbling was stopped.\n     * @deprecated\n     * @see https://dom.spec.whatwg.org/#dom-event-cancelbubble\n     */\n\n  }, {\n    key: \"stopImmediatePropagation\",\n\n    /**\n     * Stop event bubbling and subsequent event listener callings.\n     * @see https://dom.spec.whatwg.org/#dom-event-stopimmediatepropagation\n     */\n    value: function stopImmediatePropagation() {\n      var data = $(this);\n      data.stopPropagationFlag = data.stopImmediatePropagationFlag = true;\n    }\n    /**\n     * `true` if this event will bubble.\n     * @see https://dom.spec.whatwg.org/#dom-event-bubbles\n     */\n\n  }, {\n    key: \"preventDefault\",\n\n    /**\n     * Cancel the default behavior.\n     * @see https://dom.spec.whatwg.org/#dom-event-preventdefault\n     */\n    value: function preventDefault() {\n      setCancelFlag($(this));\n    }\n    /**\n     * `true` if the default behavior was canceled.\n     * @see https://dom.spec.whatwg.org/#dom-event-defaultprevented\n     */\n\n  }, {\n    key: \"initEvent\",\n\n    /**\n     * @deprecated Don't use this method. The constructor did initialization.\n     */\n    value: function initEvent(type) {\n      var bubbles = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var cancelable = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var data = $(this);\n\n      if (data.dispatchFlag) {\n        InitEventWasCalledWhileDispatching.warn();\n        return;\n      }\n\n      internalDataMap.set(this, _objectSpread(_objectSpread({}, data), {}, {\n        type: String(type),\n        bubbles: Boolean(bubbles),\n        cancelable: Boolean(cancelable),\n        target: null,\n        currentTarget: null,\n        stopPropagationFlag: false,\n        stopImmediatePropagationFlag: false,\n        canceledFlag: false\n      }));\n    }\n  }, {\n    key: \"type\",\n    get: function get() {\n      return $(this).type;\n    }\n    /**\n     * The event target of the current dispatching.\n     * @see https://dom.spec.whatwg.org/#dom-event-target\n     */\n\n  }, {\n    key: \"target\",\n    get: function get() {\n      return $(this).target;\n    }\n    /**\n     * The event target of the current dispatching.\n     * @deprecated Use the `target` property instead.\n     * @see https://dom.spec.whatwg.org/#dom-event-srcelement\n     */\n\n  }, {\n    key: \"srcElement\",\n    get: function get() {\n      return $(this).target;\n    }\n    /**\n     * The event target of the current dispatching.\n     * @see https://dom.spec.whatwg.org/#dom-event-currenttarget\n     */\n\n  }, {\n    key: \"currentTarget\",\n    get: function get() {\n      return $(this).currentTarget;\n    }\n  }, {\n    key: \"NONE\",\n    get: function get() {\n      return NONE;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-capturing_phase\n     */\n\n  }, {\n    key: \"CAPTURING_PHASE\",\n    get: function get() {\n      return CAPTURING_PHASE;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-at_target\n     */\n\n  }, {\n    key: \"AT_TARGET\",\n    get: function get() {\n      return AT_TARGET;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-bubbling_phase\n     */\n\n  }, {\n    key: \"BUBBLING_PHASE\",\n    get: function get() {\n      return BUBBLING_PHASE;\n    }\n    /**\n     * The current event phase.\n     * @see https://dom.spec.whatwg.org/#dom-event-eventphase\n     */\n\n  }, {\n    key: \"eventPhase\",\n    get: function get() {\n      return $(this).dispatchFlag ? 2 : 0;\n    }\n  }, {\n    key: \"cancelBubble\",\n    get: function get() {\n      return $(this).stopPropagationFlag;\n    }\n    /**\n     * Stop event bubbling if `true` is set.\n     * @deprecated Use the `stopPropagation()` method instead.\n     * @see https://dom.spec.whatwg.org/#dom-event-cancelbubble\n     */\n    ,\n    set: function set(value) {\n      if (value) {\n        $(this).stopPropagationFlag = true;\n      } else {\n        FalsyWasAssignedToCancelBubble.warn();\n      }\n    }\n  }, {\n    key: \"bubbles\",\n    get: function get() {\n      return $(this).bubbles;\n    }\n    /**\n     * `true` if this event can be canceled by the `preventDefault()` method.\n     * @see https://dom.spec.whatwg.org/#dom-event-cancelable\n     */\n\n  }, {\n    key: \"cancelable\",\n    get: function get() {\n      return $(this).cancelable;\n    }\n    /**\n     * `true` if the default behavior will act.\n     * @deprecated Use the `defaultPrevented` proeprty instead.\n     * @see https://dom.spec.whatwg.org/#dom-event-returnvalue\n     */\n\n  }, {\n    key: \"returnValue\",\n    get: function get() {\n      return !$(this).canceledFlag;\n    }\n    /**\n     * Cancel the default behavior if `false` is set.\n     * @deprecated Use the `preventDefault()` method instead.\n     * @see https://dom.spec.whatwg.org/#dom-event-returnvalue\n     */\n    ,\n    set: function set(value) {\n      if (!value) {\n        setCancelFlag($(this));\n      } else {\n        TruthyWasAssignedToReturnValue.warn();\n      }\n    }\n  }, {\n    key: \"defaultPrevented\",\n    get: function get() {\n      return $(this).canceledFlag;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-composed\n     */\n\n  }, {\n    key: \"composed\",\n    get: function get() {\n      return $(this).composed;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-istrusted\n     */\n    //istanbul ignore next\n\n  }, {\n    key: \"isTrusted\",\n    get: function get() {\n      return false;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-timestamp\n     */\n\n  }, {\n    key: \"timeStamp\",\n    get: function get() {\n      return $(this).timeStamp;\n    }\n  }]);\n\n  return Event;\n}(); //------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\n\n\nvar NONE = 0;\nvar CAPTURING_PHASE = 1;\nvar AT_TARGET = 2;\nvar BUBBLING_PHASE = 3;\n/**\n * Private data for event wrappers.\n */\n\nvar internalDataMap = new WeakMap();\n/**\n * Get private data.\n * @param event The event object to get private data.\n * @param name The variable name to report.\n * @returns The private data of the event.\n */\n\nfunction $(event) {\n  var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"this\";\n  var retv = internalDataMap.get(event);\n  assertType(retv != null, \"'%s' must be an object that Event constructor created, but got another one: %o\", name, event);\n  return retv;\n}\n/**\n * https://dom.spec.whatwg.org/#set-the-canceled-flag\n * @param data private data.\n */\n\n\nfunction setCancelFlag(data) {\n  if (data.inPassiveListenerFlag) {\n    CanceledInPassiveListener.warn();\n    return;\n  }\n\n  if (!data.cancelable) {\n    NonCancelableEventWasCanceled.warn();\n    return;\n  }\n\n  data.canceledFlag = true;\n} // Set enumerable\n\n\nObject.defineProperty(Event, \"NONE\", {\n  enumerable: true\n});\nObject.defineProperty(Event, \"CAPTURING_PHASE\", {\n  enumerable: true\n});\nObject.defineProperty(Event, \"AT_TARGET\", {\n  enumerable: true\n});\nObject.defineProperty(Event, \"BUBBLING_PHASE\", {\n  enumerable: true\n});\nvar keys = Object.getOwnPropertyNames(Event.prototype);\n\nfor (var i = 0; i < keys.length; ++i) {\n  if (keys[i] === \"constructor\") {\n    continue;\n  }\n\n  Object.defineProperty(Event.prototype, keys[i], {\n    enumerable: true\n  });\n} // Ensure `event instanceof window.Event` is `true`.\n\n\nif (typeof Global !== \"undefined\" && typeof Global.Event !== \"undefined\") {\n  Object.setPrototypeOf(Event.prototype, Global.Event.prototype);\n}\n/**\n * Create a new InvalidStateError instance.\n * @param message The error message.\n */\n\n\nfunction createInvalidStateError(message) {\n  if (Global.DOMException) {\n    return new Global.DOMException(message, \"InvalidStateError\");\n  }\n\n  if (DOMException == null) {\n    DOMException = /*#__PURE__*/function (_Error) {\n      _inherits(DOMException, _Error);\n\n      var _super = _createSuper(DOMException);\n\n      function DOMException(msg) {\n        var _this;\n\n        _classCallCheck(this, DOMException);\n\n        _this = _super.call(this, msg);\n\n        if (Error.captureStackTrace) {\n          Error.captureStackTrace(_assertThisInitialized(_this), DOMException);\n        }\n\n        return _this;\n      } // eslint-disable-next-line class-methods-use-this\n\n\n      _createClass(DOMException, [{\n        key: \"code\",\n        get: function get() {\n          return 11;\n        } // eslint-disable-next-line class-methods-use-this\n\n      }, {\n        key: \"name\",\n        get: function get() {\n          return \"InvalidStateError\";\n        }\n      }]);\n\n      return DOMException;\n    }( /*#__PURE__*/_wrapNativeSuper(Error));\n\n    Object.defineProperties(DOMException.prototype, {\n      code: {\n        enumerable: true\n      },\n      name: {\n        enumerable: true\n      }\n    });\n    defineErrorCodeProperties(DOMException);\n    defineErrorCodeProperties(DOMException.prototype);\n  }\n\n  return new DOMException(message);\n} //------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\n\n\nvar DOMException;\nvar ErrorCodeMap = {\n  INDEX_SIZE_ERR: 1,\n  DOMSTRING_SIZE_ERR: 2,\n  HIERARCHY_REQUEST_ERR: 3,\n  WRONG_DOCUMENT_ERR: 4,\n  INVALID_CHARACTER_ERR: 5,\n  NO_DATA_ALLOWED_ERR: 6,\n  NO_MODIFICATION_ALLOWED_ERR: 7,\n  NOT_FOUND_ERR: 8,\n  NOT_SUPPORTED_ERR: 9,\n  INUSE_ATTRIBUTE_ERR: 10,\n  INVALID_STATE_ERR: 11,\n  SYNTAX_ERR: 12,\n  INVALID_MODIFICATION_ERR: 13,\n  NAMESPACE_ERR: 14,\n  INVALID_ACCESS_ERR: 15,\n  VALIDATION_ERR: 16,\n  TYPE_MISMATCH_ERR: 17,\n  SECURITY_ERR: 18,\n  NETWORK_ERR: 19,\n  ABORT_ERR: 20,\n  URL_MISMATCH_ERR: 21,\n  QUOTA_EXCEEDED_ERR: 22,\n  TIMEOUT_ERR: 23,\n  INVALID_NODE_TYPE_ERR: 24,\n  DATA_CLONE_ERR: 25\n};\n\nfunction defineErrorCodeProperties(obj) {\n  var keys = Object.keys(ErrorCodeMap);\n\n  var _loop = function _loop(_i) {\n    var key = keys[_i];\n    var value = ErrorCodeMap[key];\n    Object.defineProperty(obj, key, {\n      get: function get() {\n        return value;\n      },\n      configurable: true,\n      enumerable: true\n    });\n  };\n\n  for (var _i = 0; _i < keys.length; ++_i) {\n    _loop(_i);\n  }\n}\n/**\n * An implementation of `Event` interface, that wraps a given event object.\n * This class controls the internal state of `Event`.\n * @see https://dom.spec.whatwg.org/#interface-event\n */\n\n\nvar EventWrapper = /*#__PURE__*/function (_Event) {\n  _inherits(EventWrapper, _Event);\n\n  var _super2 = _createSuper(EventWrapper);\n\n  _createClass(EventWrapper, null, [{\n    key: \"wrap\",\n\n    /**\n     * Wrap a given event object to control states.\n     * @param event The event-like object to wrap.\n     */\n    value: function wrap(event) {\n      return new (getWrapperClassOf(event))(event);\n    }\n  }]);\n\n  function EventWrapper(event) {\n    var _thisSuper, _thisSuper2, _this2;\n\n    _classCallCheck(this, EventWrapper);\n\n    _this2 = _super2.call(this, event.type, {\n      bubbles: event.bubbles,\n      cancelable: event.cancelable,\n      composed: event.composed\n    });\n\n    if (event.cancelBubble) {\n      _get((_thisSuper = _assertThisInitialized(_this2), _getPrototypeOf(EventWrapper.prototype)), \"stopPropagation\", _thisSuper).call(_thisSuper);\n    }\n\n    if (event.defaultPrevented) {\n      _get((_thisSuper2 = _assertThisInitialized(_this2), _getPrototypeOf(EventWrapper.prototype)), \"preventDefault\", _thisSuper2).call(_thisSuper2);\n    }\n\n    internalDataMap$1.set(_assertThisInitialized(_this2), {\n      original: event\n    }); // Define accessors\n\n    var keys = Object.keys(event);\n\n    for (var _i2 = 0; _i2 < keys.length; ++_i2) {\n      var key = keys[_i2];\n\n      if (!(key in _assertThisInitialized(_this2))) {\n        Object.defineProperty(_assertThisInitialized(_this2), key, defineRedirectDescriptor(event, key));\n      }\n    }\n\n    return _this2;\n  }\n\n  _createClass(EventWrapper, [{\n    key: \"stopPropagation\",\n    value: function stopPropagation() {\n      _get(_getPrototypeOf(EventWrapper.prototype), \"stopPropagation\", this).call(this);\n\n      var _$$ = $$1(this),\n          original = _$$.original;\n\n      if (\"stopPropagation\" in original) {\n        original.stopPropagation();\n      }\n    }\n  }, {\n    key: \"stopImmediatePropagation\",\n    value: function stopImmediatePropagation() {\n      _get(_getPrototypeOf(EventWrapper.prototype), \"stopImmediatePropagation\", this).call(this);\n\n      var _$$2 = $$1(this),\n          original = _$$2.original;\n\n      if (\"stopImmediatePropagation\" in original) {\n        original.stopImmediatePropagation();\n      }\n    }\n  }, {\n    key: \"preventDefault\",\n    value: function preventDefault() {\n      _get(_getPrototypeOf(EventWrapper.prototype), \"preventDefault\", this).call(this);\n\n      var _$$3 = $$1(this),\n          original = _$$3.original;\n\n      if (\"preventDefault\" in original) {\n        original.preventDefault();\n      }\n    }\n  }, {\n    key: \"cancelBubble\",\n    get: function get() {\n      return _get(_getPrototypeOf(EventWrapper.prototype), \"cancelBubble\", this);\n    },\n    set: function set(value) {\n      _set(_getPrototypeOf(EventWrapper.prototype), \"cancelBubble\", value, this, true);\n\n      var _$$4 = $$1(this),\n          original = _$$4.original;\n\n      if (\"cancelBubble\" in original) {\n        original.cancelBubble = value;\n      }\n    }\n  }, {\n    key: \"returnValue\",\n    get: function get() {\n      return _get(_getPrototypeOf(EventWrapper.prototype), \"returnValue\", this);\n    },\n    set: function set(value) {\n      _set(_getPrototypeOf(EventWrapper.prototype), \"returnValue\", value, this, true);\n\n      var _$$5 = $$1(this),\n          original = _$$5.original;\n\n      if (\"returnValue\" in original) {\n        original.returnValue = value;\n      }\n    }\n  }, {\n    key: \"timeStamp\",\n    get: function get() {\n      var _$$6 = $$1(this),\n          original = _$$6.original;\n\n      if (\"timeStamp\" in original) {\n        return original.timeStamp;\n      }\n\n      return _get(_getPrototypeOf(EventWrapper.prototype), \"timeStamp\", this);\n    }\n  }]);\n\n  return EventWrapper;\n}(Event);\n/**\n * Private data for event wrappers.\n */\n\n\nvar internalDataMap$1 = new WeakMap();\n/**\n * Get private data.\n * @param event The event object to get private data.\n * @returns The private data of the event.\n */\n\nfunction $$1(event) {\n  var retv = internalDataMap$1.get(event);\n  assertType(retv != null, \"'this' is expected an Event object, but got\", event);\n  return retv;\n}\n/**\n * Cache for wrapper classes.\n * @type {WeakMap<Object, Function>}\n * @private\n */\n\n\nvar wrapperClassCache = new WeakMap(); // Make association for wrappers.\n\nwrapperClassCache.set(Object.prototype, EventWrapper);\n\nif (typeof Global !== \"undefined\" && typeof Global.Event !== \"undefined\") {\n  wrapperClassCache.set(Global.Event.prototype, EventWrapper);\n}\n/**\n * Get the wrapper class of a given prototype.\n * @param originalEvent The event object to wrap.\n */\n\n\nfunction getWrapperClassOf(originalEvent) {\n  var prototype = Object.getPrototypeOf(originalEvent);\n\n  if (prototype == null) {\n    return EventWrapper;\n  }\n\n  var wrapper = wrapperClassCache.get(prototype);\n\n  if (wrapper == null) {\n    wrapper = defineWrapper(getWrapperClassOf(prototype), prototype);\n    wrapperClassCache.set(prototype, wrapper);\n  }\n\n  return wrapper;\n}\n/**\n * Define new wrapper class.\n * @param BaseEventWrapper The base wrapper class.\n * @param originalPrototype The prototype of the original event.\n */\n\n\nfunction defineWrapper(BaseEventWrapper, originalPrototype) {\n  var CustomEventWrapper = /*#__PURE__*/function (_BaseEventWrapper) {\n    _inherits(CustomEventWrapper, _BaseEventWrapper);\n\n    var _super3 = _createSuper(CustomEventWrapper);\n\n    function CustomEventWrapper() {\n      _classCallCheck(this, CustomEventWrapper);\n\n      return _super3.apply(this, arguments);\n    }\n\n    return CustomEventWrapper;\n  }(BaseEventWrapper);\n\n  var keys = Object.keys(originalPrototype);\n\n  for (var _i3 = 0; _i3 < keys.length; ++_i3) {\n    Object.defineProperty(CustomEventWrapper.prototype, keys[_i3], defineRedirectDescriptor(originalPrototype, keys[_i3]));\n  }\n\n  return CustomEventWrapper;\n}\n/**\n * Get the property descriptor to redirect a given property.\n */\n\n\nfunction defineRedirectDescriptor(obj, key) {\n  var d = Object.getOwnPropertyDescriptor(obj, key);\n  return {\n    get: function get() {\n      var original = $$1(this).original;\n      var value = original[key];\n\n      if (typeof value === \"function\") {\n        return value.bind(original);\n      }\n\n      return value;\n    },\n    set: function set(value) {\n      var original = $$1(this).original;\n      original[key] = value;\n    },\n    configurable: d.configurable,\n    enumerable: d.enumerable\n  };\n}\n/**\n * Create a new listener.\n * @param callback The callback function.\n * @param capture The capture flag.\n * @param passive The passive flag.\n * @param once The once flag.\n * @param signal The abort signal.\n * @param signalListener The abort event listener for the abort signal.\n */\n\n\nfunction createListener(callback, capture, passive, once, signal, signalListener) {\n  return {\n    callback: callback,\n    flags: (capture ? 1\n    /* Capture */\n    : 0) | (passive ? 2\n    /* Passive */\n    : 0) | (once ? 4\n    /* Once */\n    : 0),\n    signal: signal,\n    signalListener: signalListener\n  };\n}\n/**\n * Set the `removed` flag to the given listener.\n * @param listener The listener to check.\n */\n\n\nfunction setRemoved(listener) {\n  listener.flags |= 8\n  /* Removed */\n  ;\n}\n/**\n * Check if the given listener has the `capture` flag or not.\n * @param listener The listener to check.\n */\n\n\nfunction isCapture(listener) {\n  return (listener.flags & 1\n  /* Capture */\n  ) === 1\n  /* Capture */\n  ;\n}\n/**\n * Check if the given listener has the `passive` flag or not.\n * @param listener The listener to check.\n */\n\n\nfunction isPassive(listener) {\n  return (listener.flags & 2\n  /* Passive */\n  ) === 2\n  /* Passive */\n  ;\n}\n/**\n * Check if the given listener has the `once` flag or not.\n * @param listener The listener to check.\n */\n\n\nfunction isOnce(listener) {\n  return (listener.flags & 4\n  /* Once */\n  ) === 4\n  /* Once */\n  ;\n}\n/**\n * Check if the given listener has the `removed` flag or not.\n * @param listener The listener to check.\n */\n\n\nfunction isRemoved(listener) {\n  return (listener.flags & 8\n  /* Removed */\n  ) === 8\n  /* Removed */\n  ;\n}\n/**\n * Call an event listener.\n * @param listener The listener to call.\n * @param target The event target object for `thisArg`.\n * @param event The event object for the first argument.\n * @param attribute `true` if this callback is an event attribute handler.\n */\n\n\nfunction invokeCallback(_ref, target, event) {\n  var callback = _ref.callback;\n\n  try {\n    if (typeof callback === \"function\") {\n      callback.call(target, event);\n    } else if (typeof callback.handleEvent === \"function\") {\n      callback.handleEvent(event);\n    }\n  } catch (thrownError) {\n    reportError(thrownError);\n  }\n}\n/**\n * Find the index of given listener.\n * This returns `-1` if not found.\n * @param list The listener list.\n * @param callback The callback function to find.\n * @param capture The capture flag to find.\n */\n\n\nfunction findIndexOfListener(_ref2, callback, capture) {\n  var listeners = _ref2.listeners;\n\n  for (var _i4 = 0; _i4 < listeners.length; ++_i4) {\n    if (listeners[_i4].callback === callback && isCapture(listeners[_i4]) === capture) {\n      return _i4;\n    }\n  }\n\n  return -1;\n}\n/**\n * Add the given listener.\n * Does copy-on-write if needed.\n * @param list The listener list.\n * @param callback The callback function.\n * @param capture The capture flag.\n * @param passive The passive flag.\n * @param once The once flag.\n * @param signal The abort signal.\n */\n\n\nfunction addListener(list, callback, capture, passive, once, signal) {\n  var signalListener;\n\n  if (signal) {\n    signalListener = removeListener.bind(null, list, callback, capture);\n    signal.addEventListener(\"abort\", signalListener);\n  }\n\n  var listener = createListener(callback, capture, passive, once, signal, signalListener);\n\n  if (list.cow) {\n    list.cow = false;\n    list.listeners = [].concat(_toConsumableArray(list.listeners), [listener]);\n  } else {\n    list.listeners.push(listener);\n  }\n\n  return listener;\n}\n/**\n * Remove a listener.\n * @param list The listener list.\n * @param callback The callback function to find.\n * @param capture The capture flag to find.\n * @returns `true` if it mutated the list directly.\n */\n\n\nfunction removeListener(list, callback, capture) {\n  var index = findIndexOfListener(list, callback, capture);\n\n  if (index !== -1) {\n    return removeListenerAt(list, index);\n  }\n\n  return false;\n}\n/**\n * Remove a listener.\n * @param list The listener list.\n * @param index The index of the target listener.\n * @param disableCow Disable copy-on-write if true.\n * @returns `true` if it mutated the `listeners` array directly.\n */\n\n\nfunction removeListenerAt(list, index) {\n  var disableCow = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var listener = list.listeners[index]; // Set the removed flag.\n\n  setRemoved(listener); // Dispose the abort signal listener if exists.\n\n  if (listener.signal) {\n    listener.signal.removeEventListener(\"abort\", listener.signalListener);\n  } // Remove it from the array.\n\n\n  if (list.cow && !disableCow) {\n    list.cow = false;\n    list.listeners = list.listeners.filter(function (_, i) {\n      return i !== index;\n    });\n    return false;\n  }\n\n  list.listeners.splice(index, 1);\n  return true;\n}\n/**\n * Create a new `ListenerListMap` object.\n */\n\n\nfunction createListenerListMap() {\n  return Object.create(null);\n}\n/**\n * Get the listener list of the given type.\n * If the listener list has not been initialized, initialize and return it.\n * @param listenerMap The listener list map.\n * @param type The event type to get.\n */\n\n\nfunction ensureListenerList(listenerMap, type) {\n  var _a;\n\n  return (_a = listenerMap[type]) !== null && _a !== void 0 ? _a : listenerMap[type] = {\n    attrCallback: undefined,\n    attrListener: undefined,\n    cow: false,\n    listeners: []\n  };\n}\n/**\n * An implementation of the `EventTarget` interface.\n * @see https://dom.spec.whatwg.org/#eventtarget\n */\n\n\nvar EventTarget = /*#__PURE__*/function () {\n  /**\n   * Initialize this instance.\n   */\n  function EventTarget() {\n    _classCallCheck(this, EventTarget);\n\n    internalDataMap$2.set(this, createListenerListMap());\n  } // Implementation\n\n\n  _createClass(EventTarget, [{\n    key: \"addEventListener\",\n    value: function addEventListener(type0, callback0, options0) {\n      var listenerMap = $$2(this);\n\n      var _normalizeAddOptions = normalizeAddOptions(type0, callback0, options0),\n          callback = _normalizeAddOptions.callback,\n          capture = _normalizeAddOptions.capture,\n          once = _normalizeAddOptions.once,\n          passive = _normalizeAddOptions.passive,\n          signal = _normalizeAddOptions.signal,\n          type = _normalizeAddOptions.type;\n\n      if (callback == null || (signal === null || signal === void 0 ? void 0 : signal.aborted)) {\n        return;\n      }\n\n      var list = ensureListenerList(listenerMap, type); // Find existing listener.\n\n      var i = findIndexOfListener(list, callback, capture);\n\n      if (i !== -1) {\n        warnDuplicate(list.listeners[i], passive, once, signal);\n        return;\n      } // Add the new listener.\n\n\n      addListener(list, callback, capture, passive, once, signal);\n    } // Implementation\n\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(type0, callback0, options0) {\n      var listenerMap = $$2(this);\n\n      var _normalizeOptions = normalizeOptions(type0, callback0, options0),\n          callback = _normalizeOptions.callback,\n          capture = _normalizeOptions.capture,\n          type = _normalizeOptions.type;\n\n      var list = listenerMap[type];\n\n      if (callback != null && list) {\n        removeListener(list, callback, capture);\n      }\n    } // Implementation\n\n  }, {\n    key: \"dispatchEvent\",\n    value: function dispatchEvent(e) {\n      var list = $$2(this)[String(e.type)];\n\n      if (list == null) {\n        return true;\n      }\n\n      var event = e instanceof Event ? e : EventWrapper.wrap(e);\n      var eventData = $(event, \"event\");\n\n      if (eventData.dispatchFlag) {\n        throw createInvalidStateError(\"This event has been in dispatching.\");\n      }\n\n      eventData.dispatchFlag = true;\n      eventData.target = eventData.currentTarget = this;\n\n      if (!eventData.stopPropagationFlag) {\n        var cow = list.cow,\n            listeners = list.listeners; // Set copy-on-write flag.\n\n        list.cow = true; // Call listeners.\n\n        for (var _i5 = 0; _i5 < listeners.length; ++_i5) {\n          var listener = listeners[_i5]; // Skip if removed.\n\n          if (isRemoved(listener)) {\n            continue;\n          } // Remove this listener if has the `once` flag.\n\n\n          if (isOnce(listener) && removeListenerAt(list, _i5, !cow)) {\n            // Because this listener was removed, the next index is the\n            // same as the current value.\n            _i5 -= 1;\n          } // Call this listener with the `passive` flag.\n\n\n          eventData.inPassiveListenerFlag = isPassive(listener);\n          invokeCallback(listener, this, event);\n          eventData.inPassiveListenerFlag = false; // Stop if the `event.stopImmediatePropagation()` method was called.\n\n          if (eventData.stopImmediatePropagationFlag) {\n            break;\n          }\n        } // Restore copy-on-write flag.\n\n\n        if (!cow) {\n          list.cow = false;\n        }\n      }\n\n      eventData.target = null;\n      eventData.currentTarget = null;\n      eventData.stopImmediatePropagationFlag = false;\n      eventData.stopPropagationFlag = false;\n      eventData.dispatchFlag = false;\n      return !eventData.canceledFlag;\n    }\n  }]);\n\n  return EventTarget;\n}();\n/**\n * Internal data.\n */\n\n\nvar internalDataMap$2 = new WeakMap();\n/**\n * Get private data.\n * @param target The event target object to get private data.\n * @param name The variable name to report.\n * @returns The private data of the event.\n */\n\nfunction $$2(target) {\n  var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"this\";\n  var retv = internalDataMap$2.get(target);\n  assertType(retv != null, \"'%s' must be an object that EventTarget constructor created, but got another one: %o\", name, target);\n  return retv;\n}\n/**\n * Normalize options.\n * @param options The options to normalize.\n */\n\n\nfunction normalizeAddOptions(type, callback, options) {\n  var _a;\n\n  assertCallback(callback);\n\n  if (_typeof(options) === \"object\" && options !== null) {\n    return {\n      type: String(type),\n      callback: callback !== null && callback !== void 0 ? callback : undefined,\n      capture: Boolean(options.capture),\n      passive: Boolean(options.passive),\n      once: Boolean(options.once),\n      signal: (_a = options.signal) !== null && _a !== void 0 ? _a : undefined\n    };\n  }\n\n  return {\n    type: String(type),\n    callback: callback !== null && callback !== void 0 ? callback : undefined,\n    capture: Boolean(options),\n    passive: false,\n    once: false,\n    signal: undefined\n  };\n}\n/**\n * Normalize options.\n * @param options The options to normalize.\n */\n\n\nfunction normalizeOptions(type, callback, options) {\n  assertCallback(callback);\n\n  if (_typeof(options) === \"object\" && options !== null) {\n    return {\n      type: String(type),\n      callback: callback !== null && callback !== void 0 ? callback : undefined,\n      capture: Boolean(options.capture)\n    };\n  }\n\n  return {\n    type: String(type),\n    callback: callback !== null && callback !== void 0 ? callback : undefined,\n    capture: Boolean(options)\n  };\n}\n/**\n * Assert the type of 'callback' argument.\n * @param callback The callback to check.\n */\n\n\nfunction assertCallback(callback) {\n  if (typeof callback === \"function\" || _typeof(callback) === \"object\" && callback !== null && typeof callback.handleEvent === \"function\") {\n    return;\n  }\n\n  if (callback == null || _typeof(callback) === \"object\") {\n    InvalidEventListener.warn(callback);\n    return;\n  }\n\n  throw new TypeError(format(InvalidEventListener.message, [callback]));\n}\n/**\n * Print warning for duplicated.\n * @param listener The current listener that is duplicated.\n * @param passive The passive flag of the new duplicated listener.\n * @param once The once flag of the new duplicated listener.\n * @param signal The signal object of the new duplicated listener.\n */\n\n\nfunction warnDuplicate(listener, passive, once, signal) {\n  EventListenerWasDuplicated.warn(isCapture(listener) ? \"capture\" : \"bubble\", listener.callback);\n\n  if (isPassive(listener) !== passive) {\n    OptionWasIgnored.warn(\"passive\");\n  }\n\n  if (isOnce(listener) !== once) {\n    OptionWasIgnored.warn(\"once\");\n  }\n\n  if (listener.signal !== signal) {\n    OptionWasIgnored.warn(\"signal\");\n  }\n} // Set enumerable\n\n\nvar keys$1 = Object.getOwnPropertyNames(EventTarget.prototype);\n\nfor (var _i6 = 0; _i6 < keys$1.length; ++_i6) {\n  if (keys$1[_i6] === \"constructor\") {\n    continue;\n  }\n\n  Object.defineProperty(EventTarget.prototype, keys$1[_i6], {\n    enumerable: true\n  });\n} // Ensure `eventTarget instanceof window.EventTarget` is `true`.\n\n\nif (typeof Global !== \"undefined\" && typeof Global.EventTarget !== \"undefined\") {\n  Object.setPrototypeOf(EventTarget.prototype, Global.EventTarget.prototype);\n}\n/**\n * Get the current value of a given event attribute.\n * @param target The `EventTarget` object to get.\n * @param type The event type.\n */\n\n\nfunction getEventAttributeValue(target, type) {\n  var _a, _b;\n\n  var listMap = $$2(target, \"target\");\n  return (_b = (_a = listMap[type]) === null || _a === void 0 ? void 0 : _a.attrCallback) !== null && _b !== void 0 ? _b : null;\n}\n/**\n * Set an event listener to a given event attribute.\n * @param target The `EventTarget` object to set.\n * @param type The event type.\n * @param callback The event listener.\n */\n\n\nfunction setEventAttributeValue(target, type, callback) {\n  if (callback != null && typeof callback !== \"function\") {\n    InvalidAttributeHandler.warn(callback);\n  }\n\n  if (typeof callback === \"function\" || _typeof(callback) === \"object\" && callback !== null) {\n    upsertEventAttributeListener(target, type, callback);\n  } else {\n    removeEventAttributeListener(target, type);\n  }\n} //------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\n\n/**\n * Update or insert the given event attribute handler.\n * @param target The `EventTarget` object to set.\n * @param type The event type.\n * @param callback The event listener.\n */\n\n\nfunction upsertEventAttributeListener(target, type, callback) {\n  var list = ensureListenerList($$2(target, \"target\"), String(type));\n  list.attrCallback = callback;\n\n  if (list.attrListener == null) {\n    list.attrListener = addListener(list, defineEventAttributeCallback(list), false, false, false, undefined);\n  }\n}\n/**\n * Remove the given event attribute handler.\n * @param target The `EventTarget` object to remove.\n * @param type The event type.\n * @param callback The event listener.\n */\n\n\nfunction removeEventAttributeListener(target, type) {\n  var listMap = $$2(target, \"target\");\n  var list = listMap[String(type)];\n\n  if (list && list.attrListener) {\n    removeListener(list, list.attrListener.callback, false);\n    list.attrCallback = list.attrListener = undefined;\n  }\n}\n/**\n * Define the callback function for the given listener list object.\n * It calls `attrCallback` property if the property value is a function.\n * @param list The `ListenerList` object.\n */\n\n\nfunction defineEventAttributeCallback(list) {\n  return function (event) {\n    var callback = list.attrCallback;\n\n    if (typeof callback === \"function\") {\n      callback.call(this, event);\n    }\n  };\n}\n/**\n * Define an `EventTarget` class that has event attibutes.\n * @param types The types to define event attributes.\n * @deprecated Use `getEventAttributeValue`/`setEventAttributeValue` pair on your derived class instead because of static analysis friendly.\n */\n\n\nfunction defineCustomEventTarget() {\n  var CustomEventTarget = /*#__PURE__*/function (_EventTarget) {\n    _inherits(CustomEventTarget, _EventTarget);\n\n    var _super4 = _createSuper(CustomEventTarget);\n\n    function CustomEventTarget() {\n      _classCallCheck(this, CustomEventTarget);\n\n      return _super4.apply(this, arguments);\n    }\n\n    return CustomEventTarget;\n  }(EventTarget);\n\n  for (var _i7 = 0; _i7 < arguments.length; ++_i7) {\n    defineEventAttribute(CustomEventTarget.prototype, _i7 < 0 || arguments.length <= _i7 ? undefined : arguments[_i7]);\n  }\n\n  return CustomEventTarget;\n}\n/**\n * Define an event attribute.\n * @param target The `EventTarget` object to define an event attribute.\n * @param type The event type to define.\n * @param _eventClass Unused, but to infer `Event` class type.\n * @deprecated Use `getEventAttributeValue`/`setEventAttributeValue` pair on your derived class instead because of static analysis friendly.\n */\n\n\nfunction defineEventAttribute(target, type, _eventClass) {\n  Object.defineProperty(target, \"on\".concat(type), {\n    get: function get() {\n      return getEventAttributeValue(this, type);\n    },\n    set: function set(value) {\n      setEventAttributeValue(this, type, value);\n    },\n    configurable: true,\n    enumerable: true\n  });\n}\n\nexport default EventTarget;\nexport { Event, EventTarget, defineCustomEventTarget, defineEventAttribute, getEventAttributeValue, setErrorHandler, setEventAttributeValue, setWarningHandler };\n"]},"metadata":{},"sourceType":"module"}